<!DOCTYPE html>
<!-- Create By Alfonso Lopez -->
<html>
    <head>
        <title>Enjoy</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="fuente/comicS.css">
        <link rel="stylesheet" href="script/css/body.css">
        <link rel="stylesheet" href="script/css/scrooll1.css">
        <link rel="stylesheet" href="script/css/carrusel.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"  crossorigin="anonymous">
        <script src="https://kit.fontawesome.com/637f7442f6.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.linearicons.com/free/1.0.0/icon-font.min.css">
        <link rel="stylesheet" href="script/css/newFile.css">
        <link rel="stylesheet" href="script/css/like.css">
        <link rel="stylesheet" href="script/css/data.css">
        <link rel="icon" href="img/icon.png" />
        <style>
            @font-face {
                font-family: "Comic Sans MS";
                src: url("fuente/comic-sans-ms-4.ttf");
            }

            .zoom:hover{
                transform: scale(1.2);
            }
            .diamond{
                background-image: url(img/diamante.png);
                background-position: center;
                background-repeat: no-repeat;
                background-size:100%;
                /*cursor: pointer;*/
                display: inline-block;
                height: 42px;
                width: 42px;
                margin-left: 1.8px;
                margin-right: 1.8px;
            }
            .diamond:hover
            {
                transform: scale(1.08);
            }
            .diamond_animate
            {      
                background-image: url(img/diamanteAzul.png);
                transform: scale(1.08);
            }
            .dropdown > .dropdown-item:hover{
                background-color: #04242c;
                color:white;
            }
            .navbar {
                margin-bottom: 0;
                background-color: #f4511e;
                line-height: 1.42857143 !important;
                letter-spacing: 4px;
                font-family: Montserrat, sans-serif;}
            @media (min-width: 992px) {
                .ocultar-div{
                    display:none;
                }
            }
            @media (max-width: 991px) {
                .ocultar-nav{
                    display:none;
                }
            }
            .element{
                transform: scale(0);
                position: absolute;
                left: 0px;
                top:0px;
                width: 100%;
                height: 100%;
                opacity: .7
            }
            .flip-scale-down-diag-2 {
                transform: scale(1.6);
                transition: transform 0.4s;
            }
            .h {
                transform: scale(0);
                transition: transform 0.4s;
            }
            .btn:focus{
                outline: none;
                box-shadow: none;
                color: #3c3f41;
                font-family: "Comic Sans MS", cursive;
            }

            .loader {
                position: fixed;
                left: 0px;
                top: 0px;
                width: 100%;
                height: 100%;
                z-index: 9999;
                background-color: rgba(1,1,1,0);
                align-items: center;
                display: flex;
                opacity: .9;
                justify-content: center;
            }
        </style>
    </head>
    <body style="background-color: #131313;
          background-size: cover;
          background-attachment: fixed"
          class="scrol scrol-thumb">
        <div style="position: fixed;top: 0px;width: 100%;display: block;padding: 0px" class="sticky-top">
            <nav class="navbar bg-dark navbar-expand-lg navbar-toggleable-xl" style="background-color: #343a40;padding: 0px;justify-content: space-around;margin: 0px">
                <div class="navbar-toggler" style="padding: 0px;justify-content: space-around;width: 100%" >
                    <ul class="nav justify-content-around" style="padding: 0px;">
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" href="publicaciones.html" style="padding: 0px;padding-right: 5px;background-color: #343a40">
                                <img src="img/camRetro.png" style="height: 30px;width: 30px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>                        
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" href="search.html" style="padding: 0;padding-right: 5px;background-color: #343a40">
                                <img src="img/iconUsers.png" style="height: 30px;width: 30px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item " id="s" href="subir.html" style="padding: 0;padding-right: 5px;background-color: #343a40">
                                <img src="img/add .png" style="height: 30px;width: 30px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" id="button_NotT" onclick="deleteN()" style="padding: 0;padding-right: 5px;background-color: #343a40">
                                <div id="notT" class="p-0" style="padding:0px">
                                    <img src="img/notification (1).png" style="height: 30px;width: 30px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                                </div>
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" href="profile.html" style="padding: 0;padding-right: 5px;background-color: #343a40">
                                <img id="imgprofile1" style="width: 30px;height: 30px;border-radius: 18px;object-fit:cover;margin-top: 8px;margin-bottom: 8px" src="img/user.png" class="zoom">
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <div class="dropdown show p-0">
                                <a  href="#" style="width: 3px;height: 3px;background-color: #343a40" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <img id="downR" src="img/down.png" style="width: 12px;margin-top: 16px;margin-bottom: 8px" class="zoom">
                                </a>
                                <div class="dropdown-menu dropdown dropdown-menu-right" aria-labelledby="dropdownMenuLink" style="background-color:  #343a40">
                                    <a class="dropdown-item text-light mb-1" href="profile.html">
                                        <img style="width: 20px;height: 20px;border-radius: 200px;margin-right: 5px" src="img/userd.png">Perfil
                                    </a>
                                    <a class="dropdown-item text-light mb-1" href="tienda.html">
                                        <img style="width: 20px;height: 20px;margin-right: 5px" src="img/tienda.png">Store
                                    </a>
                                    <a id="drop_men" class="dropdown-item text-light mb-1" onclick="deleteM()" href="#">
                                        <img id="notificacion1" style="width: 20px;height: 20px;margin-right: 5px" src="img/mensajeW.png">Chat
                                    </a>

                                    <a class="dropdown-item text-light mb-1" href="settings.html">
                                        <img style="width: 20px;height: 20px;margin-right: 5px" src="img/settings.png">Configuracion
                                    </a>
                                    <a class="dropdown-item text-light mb-1" id="cerrarS">
                                        <img style="width: 20px;height: 20px;margin-right: 5px" src="img/logout.png">Cerrar Sesion
                                    </a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="navbar justify-content-center ocultar-nav bg-dark" style="padding: 0px;margin-bottom: 0px">
                    <ul class="nav justify-content-center" style="padding: 0px">
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" href="publicaciones.html" style="padding: 0px;padding-right: 25px;background-color: #343a40">
                                <img src="img/camRetro.png" style="height: 35px;width: 35px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>                        
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" href="search.html" style="padding: 0;padding-right: 25px;background-color: #343a40">
                                <img src="img/iconUsers.png" style="height: 30px;width: 35px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" href="tienda.html" style="padding: 0;padding-right: 25px;background-color: #343a40">
                                <img src="img/tienda.png" style="height: 33px;width: 35px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item " id="s" href="subir.html" style="padding: 0;padding-right: 25px;background-color: #343a40">
                                <img src="img/add .png" style="height: 35px;width: 35px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px;cursor: pointer">
                            <a class="nav-item " id="button_Men" onclick="deleteM()" style="padding: 0;padding-right: 25px;background-color: #343a40">
                                <img id="notificacion" src="img/mensajeW.png" style="width: 35px;height: 35px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px;cursor: pointer">
                            <a class="nav-item nav-link" id="button_Not" onclick="deleteN()" style="padding: 0;padding-right: 25px;background-color: #343a40">
                                <div id="not" class="p-0" style="padding:0px">
                                    <img src="img/notification (1).png" style="height: 35px;width: 35px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                                </div>
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" href="profile.html" style="padding: 0;padding-right: 25px;background-color: #343a40">
                                <img id="imgprofile" style="width: 35px;height: 35px;border-radius: 18px;object-fit:cover;margin-top: 8px;margin-bottom: 8px" src="img/user.png" class="zoom">
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <div class="dropdown show p-0">
                                <a  href="#" style="width: 3px;height: 3px;background-color: #343a40" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <img src="img/down.png" style="width: 12px;margin-top: 16px;margin-bottom: 8px" class="zoom">
                                </a>

                                <div class="dropdown-menu dropdown" aria-labelledby="dropdownMenuLink" style="background-color:  #343a40">
                                    <a class="dropdown-item text-light mb-1" href="profile.html">
                                        <img style="width: 20px;height: 20px;border-radius: 200px;margin-right: 5px" src="img/userd.png">Perfil
                                    </a>

                                    <a class="dropdown-item text-light mb-1" href="settings.html">
                                        <img style="width: 20px;height: 20px;margin-right: 5px" src="img/settings.png">Configuracion
                                    </a>
                                    <a class="dropdown-item text-light mb-1" id="cerrar">
                                        <img style="width: 20px;height: 20px;margin-right: 5px" src="img/logout.png">Cerrar Sesion
                                    </a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
        <div class="" id="loader" style="background-color: rgba(1,1,1,0);text-align: center;display: none">
        </div>
        <div style="height: 55px">s </div>
        <div class="modal fade" id="modaltuto" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content" style="background-color: #212529;border-radius: 12px">
                    <div class="modal-header">
                        <div class="container-fluid justify-content-center" style="text-align: center">
                            <h2 class="modal-title" id="exampleModalLongTitle" style="font-family: 'Comic Sans MS', cursive;color: white;font-size: 20px">Diamantes</h2>

                        </div>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div id="modal-body" class="modal-body container-fluid scrol scrol-thumb" style="overflow-y: auto;max-height: 500px">
                        <h2 id="modalBodyDiamante" class="" style="font-family: 'Comic Sans MS', cursive;color: white;font-size: 20px;margin: 0px;text-align: center"></h2>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn zoom" data-dismiss="modal" style="font-family: 'Comic Sans MS', cursive;outline: none;border:solid 1px white;color: white;font-size: 16px ">Cerrar</button>
                        <button type="button" class="btn zoom" style="font-family: 'Comic Sans MS', cursive;outline: none;border:solid 1px #2aa58a;color: white;font-size: 16px "><a href="tienda.html" style="color: white">Comprar</a></button>
                    </div>

                </div>
            </div>
        </div>
        <div id="publicacionesDiv" class="text-center container p-0" style="width: auto;">
        </div>
        <div id="post">
        </div>
        <div class="container-fluid" id="cajaValoresInput" style="display: none"></div>
        <script src="script/cif.js"></script>
        <script type="text/javascript" src="script/jq.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-firestore-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-auth-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-compat.js"></script>
        <script>
                                var firebaseConfig = {
                                    apiKey: "AIzaSyB9zjuIk3aupb9lxw4kdE10WELo3RflJP0",
                                    authDomain: "enjoy-13d08.firebaseapp.com",
                                    databaseURL: "https://enjoy-13d08-default-rtdb.firebaseio.com",
                                    projectId: "enjoy-13d08",
                                    storageBucket: "enjoy-13d08.appspot.com",
                                    messagingSenderId: "259344011433",
                                    appId: "1:259344011433:web:2766c0f29a97a74da5d9b8"
                                };
                                firebaseApp = firebase.initializeApp(firebaseConfig);
                                var auth = firebase.auth();
                                var fire = firebase.firestore();
        </script>
        <script>
            var nombreC;
            $("#cerrar").click(function () {
                auth.
                        signOut()
                        .then(function () {

                            window.location = "index.html";
                        }
                        );
            });
            $("#cerrarS").click(function () {
                auth.
                        signOut()
                        .then(function () {

                            window.location = "index.html";
                        }
                        );
            });
            var database = firebase.database();
            auth.onAuthStateChanged(function (user) {
                if (user) {
                    var emailVerificado = user.emailVerified.toString();
                    if (emailVerificado === "true") {
                    } else if (emailVerificado === "false") {
                    }
                    var mail = user.email;
                    var encripta = cifrar(mail.toString());
                    var correo = encripta.palabraEncriptada;
                    fire.collection("IMAGENES").where("mail", "==", correo)
                            .get()
                            .then(function (querySnapshot) {
                                querySnapshot.forEach(function (doc) {
                                    var publicaciones = doc.data();
                                    foto = publicaciones.foto;
                                    if (foto === "undefined" || foto === "" || foto === undefined) {

                                    } else {
                                        $("#imgprofile").attr("src", foto);
                                        $("#imgprofile1").attr("src", foto);
                                    }

                                    nombreC = publicaciones.nombre;
                                });
                            })
                            .catch(function (error) {
                            });
                } else {

                }
            });
            function deleteN(uid) {
                if (uid) {
                    var docref = fire.collection('IMAGENES').doc(uid);
                    docref.update({
                        new : firebase.firestore.FieldValue.delete()
                    }).then(function () {
                        var url = "notificaciones.html";
                        location.href = url;
                    });
                } else {
                    var url = "notificaciones.html";
                    location.href = url;
                }
            }
            function deleteM(uid) {
                if (uid) {
                    var docref = fire.collection('IMAGENES').doc(uid);
                    docref.update({
                        newM: firebase.firestore.FieldValue.delete()
                    }).then(function () {
                        var url = "bandejaEntrada.html";
                        location.href = url;
                    });
                } else {
                    var url = "bandejaEntrada.html";
                    location.href = url;
                }
            }
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"  crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"  crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" crossorigin="anonymous"></script>
        <script src="https://momentjs.com/downloads/moment.js"  crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"  crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.33/moment-timezone.min.js" crossorigin="anonymous" ></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js" crossorigin="anonymous"></script>

        <script>
            function EC() {
                var timing = 86400;
                document.cookie = "nombrecookie=PRUEBASS 24hrs; max-age=" + timing + "; ";
            }
            $(document).ready(deleteSus());
            function deleteSus() {
                auth.onAuthStateChanged(function (user) {
                    if (user) {
                        var mail = user.email;
                        var encripta = cifrar(mail.toString());
                        var correo = encripta.palabraEncriptada;
                        fire.collection("FECHAS").where("correoI", "==", correo)
                                .get()
                                .then(function (querySnapshot) {
                                    var CI = correo;
                                    var fechaT;
                                    var CS;
                                    querySnapshot.forEach(function (doc) {
                                        IDE = doc.id;
                                        var publicaciones = doc.data();
                                        fechaT = publicaciones.fechaTerminacion;
                                        CS = publicaciones.correoS;
                                        var aestTime = new Date().toLocaleString("en-US", {timeZone: "America/Mexico_City"});
                                        aestTime = new Date(aestTime);
                                        var newDateOptions = {
                                            day: "2-digit",
                                            month: "2-digit",
                                            year: "numeric"
                                        };
                                        var fecha1 = aestTime.toLocaleString("en-US", newDateOptions);
                                        arrFecha = fecha1.toString();
                                        separador = "/";
                                        var arrayDeCadenas = arrFecha.split(separador);
                                        mes = arrayDeCadenas[0];
                                        dia = arrayDeCadenas[1];
                                        year = arrayDeCadenas[2];
                                        fechaFormat1 = "" + year + "-" + mes + "-" + dia + "";
                                        var fecha11 = moment(fechaFormat1);
                                        var fecha22 = moment(fechaT);
                                        var diferencia = parseInt(fecha11.diff(fecha22, 'days'));
                                        if (diferencia > 0 || diferencia < -30) {
                                            fire.collection("FECHAS").doc(IDE).delete().then(function () {
                                                dejarSeguir(CI, CS);
                                            });
                                        }
                                    }
                                    );
                                });
                        fire.collection("FECHAS").where("correoS", "==", correo)
                                .get()
                                .then(function (querySnapshot) {
                                    var CS = correo;
                                    var fechaTS;
                                    var CI;
                                    querySnapshot.forEach(function (doc) {
                                        IDE = doc.id;
                                        var publicaciones = doc.data();
                                        fechaTS = publicaciones.fechaTerminacion;
                                        CI = publicaciones.correoI;
                                        var aestTime = new Date().toLocaleString("en-US", {timeZone: "America/Mexico_City"});
                                        aestTime = new Date(aestTime);
                                        var newDateOptions = {
                                            day: "2-digit",
                                            month: "2-digit",
                                            year: "numeric"
                                        };
                                        var fecha1 = aestTime.toLocaleString("en-US", newDateOptions);
                                        arrFecha = fecha1.toString();
                                        separador = "/";
                                        var arrayDeCadenas = arrFecha.split(separador);
                                        mes = arrayDeCadenas[0];
                                        dia = arrayDeCadenas[1];
                                        year = arrayDeCadenas[2];
                                        fechaFormat1 = "" + year + "-" + mes + "-" + dia + "";
                                        var fecha11 = moment(fechaFormat1);
                                        var fecha22 = moment(fechaTS);
                                        var diferencia = parseInt(fecha11.diff(fecha22, 'days'));
                                        if (diferencia > 0 || diferencia < -30) {
                                            fire.collection("FECHAS").doc(IDE).delete().then(function () {
                                                dejarSeguir(CI, CS);
                                            });
                                        }
                                    });
                                });
                    } else {
                        location.replace("index.html");
                    }
                });
            }
            function dejarSeguir(CI, CS) {
                var arregloSeg = "";
                fire.collection("IMAGENES").where("mail", "==", CI)
                        .get()
                        .then(function (querySnapshot) {
                            querySnapshot.forEach(function (doc) {
                                var publicaciones = doc.data();
                                doc = publicaciones.uid;
                                var docRef = fire.collection('IMAGENES').doc(doc);
                                var contSeg = publicaciones.contSeg;
                                url = publicaciones.foto;
                                nombre = publicaciones.nombre;
                                if (contSeg > 0) {
                                    var seguidores = publicaciones.seguidores;
                                    var separador = "*";
                                    limite = contSeg;
                                    arregloDeSubCadenas = seguidores.split(separador, limite);
                                    for (var w = 0; w < contSeg; w++) {
                                        if (CS === arregloDeSubCadenas[w]) {
                                            arregloDeSubCadenas.splice(w, 1);
                                        }
                                    }
                                    contSeg = contSeg - 1;
                                    for (var i = 0; i < contSeg; i++) {
                                        arregloSeg = arregloSeg.concat(arregloDeSubCadenas[i] + "*");
                                    }
                                    arregloSeg = arregloSeg.substring(0, arregloSeg.length - 1);
                                    seguidores = arregloSeg;
                                    var newData = {
                                        seguidores: seguidores,
                                        contSeg: contSeg
                                    };
                                    docRef.update(newData).then(function () {
                                        fire.collection("IMAGENES").where("mail", "==", CS)
                                                .get()
                                                .then(function (querySnapshot) {
                                                    querySnapshot.forEach(function (doc) {
                                                        var publicacionesCS = doc.data();
                                                        var seguidos = publicacionesCS.seguidos;
                                                        var cantSeguidos = publicacionesCS.sigo;
                                                        numNot = publicacionesCS.contNot;
                                                        numrest = numNot - 1;
                                                        var separador = "*";
                                                        limite = cantSeguidos;
                                                        arregloDeSubCadenas = seguidos.split(separador, limite);
                                                        for (var w = 0; w < cantSeguidos; w++) {
                                                            if (CS === arregloDeSubCadenas[w]) {
                                                                arregloDeSubCadenas.splice(w, 1);
                                                            }
                                                        }
                                                        cantSeguidos = cantSeguidos - 1;
                                                        for (var i = 0; i < cantSeguidos; i++) {
                                                            arregloSeg = arregloSeg.concat(arregloDeSubCadenas[i] + "*");
                                                        }
                                                        arregloSeg = arregloSeg.substring(0, arregloSeg.length - 1);
                                                        seguidos = arregloSeg;
                                                        var newData = {
                                                            correoFoto: CS,
                                                            deleteSus: nombre,
                                                            url: url,
                                                            contNotificacion: numrest
                                                        };

                                                        var newNot = {
                                                            new : 1,
                                                            seguidos: seguidos,
                                                            sigo: cantSeguidos
                                                        };
                                                        docCS = publicacionesCS.uid;
                                                        var docRef = fire.collection('IMAGENES').doc(docCS);
                                                        docRef.update(newNot).then(function () {
                                                            firebase.database().ref("likes/").push(newData).then(function () {
                                                                var ref = firebase.database().ref("Imagenes");
                                                                ref.on("child_added", function (s) {
                                                                    userdata = s.val();
                                                                    if (userdata.correoI === CI) {
                                                                        var keys = s.key;
                                                                        var refTab = firebase.database().ref("Imagenes/").child(keys);
                                                                        refTab.update(newData);
                                                                    }
                                                                });
                                                                setTimeout(function () {
                                                                    location.reload();
                                                                }, 2000);
                                                            });
                                                        });
                                                    });
                                                });
                                    });
                                }
                            });
                        });
            }
            var database = firebase.database();
            auth.onAuthStateChanged(function (user) {

                if (user) {
                    var mail = user.email;
                    var encripta = cifrar(mail.toString());
                    var correo = encripta.palabraEncriptada;
                    var refURL = firebase.database().ref("Imagenes");
                    refURL.orderByChild("contadorPrincipal").on("child_added", function (s) {
                        userdataIMG = s.val();
                        correoI = userdataIMG.correoI;
                        var contSeg = userdataIMG.contSeg;
                        if (contSeg === 0) {
                            if (correo === correoI || correoI === "0011100111011001110010011111100101101101000111010100100100111001011110011111100101111001001110011101100100011101111110011001100110011001011010011010100101101001001010010101100100001000101110010111100100101001011010010101100111010001101010011111100101111001") {
                                urls = userdataIMG.url;
                                var id = userdataIMG.ID;
                                var name1 = userdataIMG.nombreU;
                                var type = userdataIMG.type;
                                var contadorImagenes = userdataIMG.contadorImagenes;
                                var url = userdataIMG.url;
                                if (userdataIMG.descripcion === undefined) {
                                    if (userdataIMG.cuentaVerificada) {
                                        id = userdataIMG.ID;
                                        key = s.key;
                                        type = userdataIMG.type;
                                        correoI = userdataIMG.correoI;
                                        imagenProfile = userdataIMG.profileIMG;
                                        nombreU = userdataIMG.nombreU;
                                        $("#cajaValoresInput").append('\\n\
                                                            <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                            <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                            <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                            <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                            <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                        $("#publicacionesDiv").append("\n\
                <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
                    <div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                 </div>\n\
</div>\n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='' onclick=profile('" + nombreU + "') style='font-family: Comic Sans MS, cursive;margin-bottom:4px;color:white;font-size: 16px;'><img class='zoom' style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 5px'></p></div>\n\
                    <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div style='height: auto;' cont='" + userdataIMG.contadorPrincipal + "' class='text-center'>\n\
                        <div id='myCarousel" + id + "' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                            <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                                <div class='item active' style='text-align: center'> \n\
                                    <img src='img/a.jpg'  class='img-responsive'> \n\
                                </div> \n\
                            </div> \n\
                            <div class='container'>\n\
                                <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                    <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Previous</span> \n\
                                </a> \n\
                            </div>\n\
                            <div class='container'>\n\
                                <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                    <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Next</span> \n\
                                </a> \n\
                            </div>\n\
                        </div> \n\
                    </div>\n\
                    <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div class='actions text-light text-left' style='padding-left: 2%;height: 40px'>\n\
                        <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                        <div class='comment' id='" + id + "' onclick=comentarios('" + id + "','" + userdataIMG.type + "')></div>\n\
                        <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                    </div>\n\
                    <div class='container' style='margin-left:2%;width:142px'>\n\
                        <div class='row'>\n\
                            <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.likes + "</h2></div>\n\
                            <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.coms + "</h2></div>\n\
                            <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.diamantes + "</h2></div>\n\
                        </div>\n\
                    </div>\n\
                </div>");
                                    } else {
                                        id = userdataIMG.ID;
                                        key = s.key;
                                        type = userdataIMG.type;
                                        correoI = userdataIMG.correoI;
                                        imagenProfile = userdataIMG.profileIMG;
                                        nombreU = userdataIMG.nombreU;
                                        $("#cajaValoresInput").append('\\n\
                                                            <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                            <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                            <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                            <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                            <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                        $("#publicacionesDiv").append("\n\
                <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
                    <div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='outline: none;background-color: #212529;border-radius:200px'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                 </div>\n\
</div>\n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='' onclick=profile('" + nombreU + "') style='font-family: Comic Sans MS, cursive;margin-bottom:4px;color:white;font-size: 16px;'><img class='zoom' style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                    <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div style='height: auto;' cont='" + userdataIMG.contadorPrincipal + "' class='text-center'>\n\
                        <div id='myCarousel" + id + "' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                            <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                                <div class='item active' style='text-align: center'> \n\
                                    <img src='img/a.jpg'  class='img-responsive'> \n\
                                </div> \n\
                            </div> \n\
                            <div class='container'>\n\
                                <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                    <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Previous</span> \n\
                                </a> \n\
                            </div>\n\
                            <div class='container'>\n\
                                <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                    <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Next</span> \n\
                                </a> \n\
                            </div>\n\
                        </div> \n\
                    </div>\n\
                    <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div class='actions text-light text-left' style='padding-left: 2%;height: 40px'>\n\
                        <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                        <div class='comment' id='" + id + "' onclick=comentarios('" + id + "','" + userdataIMG.type + "')></div>\n\
                        <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                    </div>\n\
                    <div class='container' style='margin-left:2%;width:142px'>\n\
                        <div class='row'>\n\
                            <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.likes + "</h2></div>\n\
                            <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.coms + "</h2></div>\n\
                            <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.diamantes + "</h2></div>\n\
                        </div>\n\
                    </div>\n\
                </div>");
                                    }

                                } else if (userdataIMG.descripcion) {
                                    if (userdataIMG.cuentaVerificada) {
                                        id = userdataIMG.ID;
                                        key = s.key;
                                        type = userdataIMG.type;
                                        correoI = userdataIMG.correoI;
                                        imagenProfile = userdataIMG.profileIMG;
                                        nombreU = userdataIMG.nombreU;
                                        $("#cajaValoresInput").append('\\n\
                                                            <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                            <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                            <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                            <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                            <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                        $("#publicacionesDiv").append("\n\
                <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='outline: none;background-color: #212529;border-radius:200px'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                 </div>\n\
</div>\n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='' onclick=profile('" + nombreU + "') style='font-family: Comic Sans MS, cursive;margin-bottom:4px;color:white;font-size: 16px;'><img class='zoom' style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 8px;'></p></div>\n\
                    <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div style='height: auto;' cont='" + userdataIMG.contadorPrincipal + "' class='text-center'>\n\
                        <div id='myCarousel" + id + "' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                            <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                                <div class='item active' style='text-align: center'> \n\
                                    <img src='img/a.jpg'  class='img-responsive'> \n\
                                </div> \n\
                            </div> \n\
                            <div class='container'>\n\
                                <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                    <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Previous</span> \n\
                                </a> \n\
                            </div>\n\
                            <div class='container'>\n\
                                <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                    <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Next</span> \n\
                                </a> \n\
                            </div>\n\
                        </div> \n\
                    </div>\n\
                    <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
<div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                        <p class='' style='font-family: Comic Sans MS, cursive;height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-size: 16px;' >\n\
" + userdataIMG.descripcion + "</p>\n\
                                                    </div>\n\
                    <div class='actions text-light text-left' style='padding-left: 2%;height: 40px'>\n\
                        <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                        <div class='comment' id='" + id + "' onclick=comentarios('" + id + "','" + userdataIMG.type + "')></div>\n\
                        <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                    </div>\n\
                    <div class='container' style='margin-left:2%;width:142px'>\n\
                        <div class='row'>\n\
                            <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.likes + "</h2></div>\n\
                            <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.coms + "</h2></div>\n\
                            <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.diamantes + "</h2></div>\n\
                        </div>\n\
                    </div>\n\
                </div>");
                                    } else {
                                        id = userdataIMG.ID;
                                        key = s.key;
                                        type = userdataIMG.type;
                                        correoI = userdataIMG.correoI;
                                        imagenProfile = userdataIMG.profileIMG;
                                        nombreU = userdataIMG.nombreU;
                                        $("#cajaValoresInput").append('\\n\
                                                            <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                            <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                            <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                            <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                            <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                        $("#publicacionesDiv").append("\n\
                <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='outline: none;background-color: #212529;border-radius:200px'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                 </div>\n\
</div>\n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='' onclick=profile('" + nombreU + "') style='font-family: Comic Sans MS, cursive;margin-bottom:4px;color:white;font-size: 16px;'><img class='zoom' style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                    <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div style='height: auto;' cont='" + userdataIMG.contadorPrincipal + "' class='text-center'>\n\
                        <div id='myCarousel" + id + "' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                            <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                                <div class='item active' style='text-align: center'> \n\
                                    <img src='img/a.jpg'  class='img-responsive'> \n\
                                </div> \n\
                            </div> \n\
                            <div class='container'>\n\
                                <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                    <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Previous</span> \n\
                                </a> \n\
                            </div>\n\
                            <div class='container'>\n\
                                <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                    <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Next</span> \n\
                                </a> \n\
                            </div>\n\
                        </div> \n\
                    </div>\n\
                    <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
<div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                        <p class='' style='font-family: Comic Sans MS, cursive;height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-size: 16px;' >\n\
" + userdataIMG.descripcion + "</p>\n\
                                                    </div>\n\
                    <div class='actions text-light text-left' style='padding-left: 2%;height: 40px'>\n\
                        <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                        <div class='comment' id='" + id + "' onclick=comentarios('" + id + "','" + type + "')></div>\n\
                        <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                    </div>\n\
                    <div class='container' style='margin-left:2%;width:142px'>\n\
                        <div class='row'>\n\
                            <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.likes + "</h2></div>\n\
                            <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.coms + "</h2></div>\n\
                            <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.diamantes + "</h2></div>\n\
                        </div>\n\
                    </div>\n\
                </div>");
                                    }

                                }

                                if (contadorImagenes === "1") {
                                    typeS = userdataIMG.type;
                                    if (typeS === "image/jpeg"
                                            || typeS === "image/gif"
                                            || typeS === "image/png"
                                            || typeS === "image/bmp") {
                                        document.getElementById('carrusel' + id).innerHTML = '';
                                        $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div> <img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + userdataIMG.url + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'> <img  id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'></div></div>");
                                    } else if (typeS === "video/mp4"
                                            || typeS === "video/avi"
                                            || typeS === "video/wmv"
                                            || typeS === "video/wma"
                                            || typeS === "video/flv"
                                            || typeS === "video/mkv"
                                            || typeS === "video/mks") {
                                        document.getElementById('carrusel' + id).innerHTML = '';
                                        $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'> <video ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + userdataIMG.url + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'> </div></div>");
                                    }
                                    document.getElementById("iz" + id).style.visibility = "hidden";
                                    document.getElementById("de" + id).style.visibility = "hidden";
                                } else if (contadorImagenes > 1) {
                                    var separador = "-";
                                    limite = contadorImagenes;
                                    arregloDeSubCadenas = type.split(separador, limite);
                                    var separadorUrl = "*";
                                    limiteUrl = contadorImagenes;
                                    arregloDeSubCadenasUrl = url.split(separadorUrl, limiteUrl);
                                    document.getElementById('carrusel' + id).innerHTML = '';
                                }

                                for (var cI = 0; cI < contadorImagenes; cI++) {
                                    if (contadorImagenes > 1) {
                                        if (cI === 0) {
                                            if (arregloDeSubCadenas[cI] === "video/mp4"
                                                    || arregloDeSubCadenas[cI] === "video/avi"
                                                    || arregloDeSubCadenas[cI] === "video/wmv"
                                                    || arregloDeSubCadenas[cI] === "video/wma"
                                                    || arregloDeSubCadenas[cI] === "video/flv"
                                                    || arregloDeSubCadenas[cI] === "video/mkv"
                                                    || arregloDeSubCadenas[cI] === "video/mks") {
                                                $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> <video ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;center-block;'> </div></div>");
                                            } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                    || arregloDeSubCadenas[cI] === "image/gif"
                                                    || arregloDeSubCadenas[cI] === "image/png"
                                                    || arregloDeSubCadenas[cI] === "image/bmp") {
                                                $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div> <img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width: 100%;center-block;'><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> </div></div>");
                                            }
                                        } else if (cI > 0) {
                                            if (arregloDeSubCadenas[cI] === "video/mp4"
                                                    || arregloDeSubCadenas[cI] === "video/avi"
                                                    || arregloDeSubCadenas[cI] === "video/wmv"
                                                    || arregloDeSubCadenas[cI] === "video/wma"
                                                    || arregloDeSubCadenas[cI] === "video/flv"
                                                    || arregloDeSubCadenas[cI] === "video/mkv"
                                                    || arregloDeSubCadenas[cI] === "video/mks") {
                                                $("#carrusel" + id).append("<div class='item'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> <video ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width:100%;center-block;'> </div></div>");
                                            } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                    || arregloDeSubCadenas[cI] === "image/gif"
                                                    || arregloDeSubCadenas[cI] === "image/png"
                                                    || arregloDeSubCadenas[cI] === "image/bmp") {
                                                $("#carrusel" + id).append("<div class='item'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div> <img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width:100%;center-block;'> <img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'></div></div>");
                                            }
                                        }
                                    }
                                }
                            }
                        }
                        if (contSeg > 0) {
                            var seguidores = userdataIMG.seguidores;
                            var separador = "*";
                            limite = contSeg;
                            arregloDeSubCadenas = seguidores.split(separador, limite);
                            for (var w = 0; w < contSeg; w++) {
                                if (correo === arregloDeSubCadenas[w]) {
                                    urls = userdataIMG.url;
                                    var id = userdataIMG.ID;
                                    var name1 = userdataIMG.nombreU;
                                    var type = userdataIMG.type;
                                    var contadorImagenes = userdataIMG.contadorImagenes;
                                    var url = userdataIMG.url;
                                    if (userdataIMG.descripcion === undefined) {
                                        if (userdataIMG.cuentaVerificada) {
                                            id = userdataIMG.ID;
                                            key = s.key;
                                            type = userdataIMG.type;
                                            correoI = userdataIMG.correoI;
                                            imagenProfile = userdataIMG.profileIMG;
                                            nombreU = userdataIMG.nombreU;
                                            $("#cajaValoresInput").append('\\n\
                                                                <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                                <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                                <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                                <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                                <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                            $("#publicacionesDiv").append("\n\
                <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='outline: none;background-color: #212529;border-radius:200px'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                 </div>\n\
</div>\n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='' onclick=profile('" + nombreU + "') style='font-family: Comic Sans MS, cursive;margin-bottom:4px;color:white;font-size: 16px;'><img class='zoom' style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 8px'></p></div>\n\
                    <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div style='height: auto;' cont='" + userdataIMG.contadorPrincipal + "' class='text-center'>\n\
                        <div id='myCarousel" + id + "' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                            <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                                <div class='item active' style='text-align: center'> \n\
                                    <img src='img/a.jpg'  class='img-responsive'> \n\
                                </div> \n\
                            </div> \n\
                            <div class='container'>\n\
                                <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                    <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Previous</span> \n\
                                </a> \n\
                            </div>\n\
                            <div class='container'>\n\
                                <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                    <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Next</span> \n\
                                </a> \n\
                            </div>\n\
                        </div> \n\
                    </div>\n\
                    <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div class='actions text-light text-left' style='padding-left: 2%;height: 40px'>\n\
                        <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                        <div class='comment' id='" + id + "' onclick=comentarios('" + id + "','" + userdataIMG.type + "')></div>\n\
                        <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                    </div>\n\
                    <div class='container' style='margin-left:2%;width:142px'>\n\
                        <div class='row'>\n\
                            <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.likes + "</h2></div>\n\
                            <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.coms + "</h2></div>\n\
                            <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.diamantes + "</h2></div>\n\
                        </div>\n\
                    </div>\n\
                </div>");
                                        } else {
                                            id = userdataIMG.ID;
                                            key = s.key;
                                            type = userdataIMG.type;
                                            correoI = userdataIMG.correoI;
                                            imagenProfile = userdataIMG.profileIMG;
                                            nombreU = userdataIMG.nombreU;
                                            $("#cajaValoresInput").append('\\n\
                                                                <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                                <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                                <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                                <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                                <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                            $("#publicacionesDiv").append("\n\
                <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='outline: none;background-color: #212529;border-radius:200px'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                 </div>\n\
</div>\n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='' onclick=profile('" + nombreU + "') style='font-family: Comic Sans MS, cursive;margin-bottom:4px;color:white;font-size: 16px;'><img class='zoom' style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                    <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div style='height: auto;' cont='" + userdataIMG.contadorPrincipal + "' class='text-center'>\n\
                        <div id='myCarousel" + id + "' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                            <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                                <div class='item active' style='text-align: center'> \n\
                                    <img src='img/a.jpg'  class='img-responsive'> \n\
                                </div> \n\
                            </div> \n\
                            <div class='container'>\n\
                                <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                    <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Previous</span> \n\
                                </a> \n\
                            </div>\n\
                            <div class='container'>\n\
                                <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                    <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Next</span> \n\
                                </a> \n\
                            </div>\n\
                        </div> \n\
                    </div>\n\
                    <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div class='actions text-light text-left' style='padding-left: 2%;height: 40px'>\n\
                        <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                        <div class='comment' id='" + id + "' onclick=comentarios('" + id + "','" + userdataIMG.type + "')></div>\n\
                        <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                    </div>\n\
                    <div class='container' style='margin-left:2%;width:142px'>\n\
                        <div class='row'>\n\
                            <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.likes + "</h2></div>\n\
                            <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.coms + "</h2></div>\n\
                            <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.diamantes + "</h2></div>\n\
                        </div>\n\
                    </div>\n\
                </div>");
                                        }

                                    } else if (userdataIMG.descripcion) {
                                        if (userdataIMG.cuentaVerificada) {
                                            id = userdataIMG.ID;
                                            key = s.key;
                                            type = userdataIMG.type;
                                            correoI = userdataIMG.correoI;
                                            imagenProfile = userdataIMG.profileIMG;
                                            nombreU = userdataIMG.nombreU;
                                            $("#cajaValoresInput").append('\\n\
                                                                <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                                <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                                <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                                <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                                <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                            $("#publicacionesDiv").append("\n\
                <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='outline: none;background-color: #212529;border-radius:200px'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                 </div>\n\
</div>\n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='' onclick=profile('" + nombreU + "') style='font-family: Comic Sans MS, cursive;margin-bottom:4px;color:white;font-size: 16px;'><img class='zoom' style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 8px'></p></div>\n\
                    <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div style='height: auto;' cont='" + userdataIMG.contadorPrincipal + "' class='text-center'>\n\
                        <div id='myCarousel" + id + "' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                            <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                                <div class='item active' style='text-align: center'> \n\
                                    <img src='img/a.jpg'  class='img-responsive'> \n\
                                </div> \n\
                            </div> \n\
                            <div class='container'>\n\
                                <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                    <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Previous</span> \n\
                                </a> \n\
                            </div>\n\
                            <div class='container'>\n\
                                <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                    <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Next</span> \n\
                                </a> \n\
                            </div>\n\
                        </div> \n\
                    </div>\n\
                    <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
<div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                        <p class='' style='font-family: Comic Sans MS, cursive;height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-size: 16px;' >\n\
" + userdataIMG.descripcion + "</p>\n\
                                                    </div>\n\
                    <div class='actions text-light text-left' style='padding-left: 2%;height: 40px'>\n\
                        <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                        <div class='comment' id='" + id + "' onclick=comentarios('" + id + "','" + userdataIMG.type + "')></div>\n\
                        <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                    </div>\n\
                    <div class='container' style='margin-left:2%;width:142px'>\n\
                        <div class='row'>\n\
                            <div id='corazon_" + id + "' name='' class='text-light' style='width:33%;text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.likes + "</h2></div>\n\
                            <div id='comentario_" + id + "' class='text-light' style='width:34%;text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.coms + "</h2></div>\n\
                            <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.diamantes + "</h2></div>\n\
                        </div>\n\
                    </div>\n\
                </div>");
                                        } else {
                                            id = userdataIMG.ID;
                                            key = s.key;
                                            type = userdataIMG.type;
                                            correoI = userdataIMG.correoI;
                                            imagenProfile = userdataIMG.profileIMG;
                                            nombreU = userdataIMG.nombreU;
                                            $("#cajaValoresInput").append('\\n\
                                                                <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                                <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                                <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                                <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                                <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                            $("#publicacionesDiv").append("\n\
                <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='outline: none;background-color: #212529;border-radius:200px'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                 </div>\n\
</div>\n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='' onclick=profile('" + nombreU + "') style='font-family: Comic Sans MS, cursive;margin-bottom:4px;color:white;font-size: 16px;'><img class='zoom' style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                    <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div style='height: auto;' cont='" + userdataIMG.contadorPrincipal + "' class='text-center'>\n\
                        <div id='myCarousel" + id + "' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                            <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                                <div class='item active' style='text-align: center'> \n\
                                    <img src='img/a.jpg'  class='img-responsive'> \n\
                                </div> \n\
                            </div> \n\
                            <div class='container'>\n\
                                <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                    <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Previous</span> \n\
                                </a> \n\
                            </div>\n\
                            <div class='container'>\n\
                                <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                    <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Next</span> \n\
                                </a> \n\
                            </div>\n\
                        </div> \n\
                    </div>\n\
                    <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
<div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                        <p class='' style='font-family: Comic Sans MS, cursive;height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-size: 16px;' >\n\
" + userdataIMG.descripcion + "</p>\n\
                                                    </div>\n\
                    <div class='actions text-light text-left' style='padding-left: 2%;height: 40px'>\n\
                        <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                        <div class='comment' id='" + id + "' onclick=comentarios('" + id + "','" + userdataIMG.type + "')></div>\n\
                        <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                    </div>\n\
                    <div class='container' style='margin-left:2%;width:142px'>\n\
                        <div class='row'>\n\
                            <div id='corazon_" + id + "' name='' class='text-light' style='width:33%;text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.likes + "</h2></div>\n\
                            <div id='comentario_" + id + "' class='text-light' style='width:34%;text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.coms + "</h2></div>\n\
                            <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.diamantes + "</h2></div>\n\
                        </div>\n\
                    </div>\n\
                </div>");
                                        }
                                    }
                                    if (contadorImagenes === "1") {
                                        typeS = userdataIMG.type;
                                        if (typeS === "image/jpeg"
                                                || typeS === "image/gif"
                                                || typeS === "image/png"
                                                || typeS === "image/bmp") {
                                            document.getElementById('carrusel' + id).innerHTML = '';
                                            $("#carrusel" + id).append("<div class='item active'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + userdataIMG.url + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'><img id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'> </div></div>");
                                        } else if (typeS === "video/mp4"
                                                || typeS === "video/avi"
                                                || typeS === "video/wmv"
                                                || typeS === "video/wma"
                                                || typeS === "video/flv"
                                                || typeS === "video/mkv"
                                                || typeS === "video/mks") {
                                            document.getElementById('carrusel' + id).innerHTML = '';
                                            $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'> <video ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + userdataIMG.url + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'> </div></div>");
                                        }
                                        document.getElementById("iz" + id).style.visibility = "hidden";
                                        document.getElementById("de" + id).style.visibility = "hidden";
                                    } else if (contadorImagenes > 1) {
                                        var separador = "-";
                                        limite = contadorImagenes;
                                        arregloDeSubCadenas = type.split(separador, limite);
                                        var separadorUrl = "*";
                                        limiteUrl = contadorImagenes;
                                        arregloDeSubCadenasUrl = url.split(separadorUrl, limiteUrl);
                                        document.getElementById('carrusel' + id).innerHTML = '';
                                    }

                                    for (var cI = 0; cI < contadorImagenes; cI++) {
                                        if (contadorImagenes > 1) {
                                            if (cI === 0) {
                                                if (arregloDeSubCadenas[cI] === "video/mp4"
                                                        || arregloDeSubCadenas[cI] === "video/avi"
                                                        || arregloDeSubCadenas[cI] === "video/wmv"
                                                        || arregloDeSubCadenas[cI] === "video/wma"
                                                        || arregloDeSubCadenas[cI] === "video/flv"
                                                        || arregloDeSubCadenas[cI] === "video/mkv"
                                                        || arregloDeSubCadenas[cI] === "video/mks") {
                                                    $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> <video ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "')  class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;center-block;'> </div></div>");
                                                } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                        || arregloDeSubCadenas[cI] === "image/gif"
                                                        || arregloDeSubCadenas[cI] === "image/png"
                                                        || arregloDeSubCadenas[cI] === "image/bmp") {
                                                    $("#carrusel" + id).append("<div class='item active'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width: 100%;center-block;'> <img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'></div></div>");
                                                }
                                            } else if (cI > 0) {
                                                if (arregloDeSubCadenas[cI] === "video/mp4"
                                                        || arregloDeSubCadenas[cI] === "video/avi"
                                                        || arregloDeSubCadenas[cI] === "video/wmv"
                                                        || arregloDeSubCadenas[cI] === "video/wma"
                                                        || arregloDeSubCadenas[cI] === "video/flv"
                                                        || arregloDeSubCadenas[cI] === "video/mkv"
                                                        || arregloDeSubCadenas[cI] === "video/mks") {
                                                    $("#carrusel" + id).append("<div class='item'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'><video ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width:100%;center-block;'> </div></div>");
                                                } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                        || arregloDeSubCadenas[cI] === "image/gif"
                                                        || arregloDeSubCadenas[cI] === "image/png"
                                                        || arregloDeSubCadenas[cI] === "image/bmp") {
                                                    $("#carrusel" + id).append("<div class='item'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div> <img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width:100%;center-block;'> <img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'></div></div>");
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            if (correo === correoI) {
                                urls = userdataIMG.url;
                                var id = userdataIMG.ID;
                                var idFoto = "id";
                                var name1 = userdataIMG.nombreU;
                                var nomvec = name1.split(" ");
                                var type = userdataIMG.type;
                                var contadorImagenes = userdataIMG.contadorImagenes;
                                var url = userdataIMG.url;
                                if (userdataIMG.descripcion === undefined) {
                                    if (userdataIMG.cuentaVerificada) {
                                        id = userdataIMG.ID;
                                        key = s.key;
                                        type = userdataIMG.type;
                                        correoI = userdataIMG.correoI;
                                        imagenProfile = userdataIMG.profileIMG;
                                        nombreU = userdataIMG.nombreU;
                                        $("#cajaValoresInput").append('\\n\
                                                                <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                                <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                                <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                                <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                                <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                        $("#publicacionesDiv").append("\n\
                <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='outline: none;background-color: #212529;border-radius:200px'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                 </div>\n\
</div>\n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='' onclick=profile('" + nombreU + "') style='font-family: Comic Sans MS, cursive;margin-bottom:4px;color:white;font-size: 16px;'><img class='zoom' style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 8px'></p></div>\n\
                    <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div style='height: auto;' cont='" + userdataIMG.contadorPrincipal + "' class='text-center'>\n\
                        <div id='myCarousel" + id + "' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                            <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                                <div class='item active' style='text-align: center'> \n\
                                    <img src='img/a.jpg'  class='img-responsive'> \n\
                                </div> \n\
                            </div> \n\
                            <div class='container'>\n\
                                <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                    <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Previous</span> \n\
                                </a> \n\
                            </div>\n\
                            <div class='container'>\n\
                                <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                    <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Next</span> \n\
                                </a> \n\
                            </div>\n\
                        </div> \n\
                    </div>\n\
                    <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div class='actions text-light text-left' style='padding-left: 2%;height: 40px'>\n\
                        <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                        <div class='comment' id='" + id + "' onclick=comentarios('" + id + "','" + userdataIMG.type + "')></div>\n\
                        <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                    </div>\n\
                    <div class='container' style='margin-left:2%;width:142px'>\n\
                        <div class='row'>\n\
                            <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.likes + "</h2></div>\n\
                            <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.coms + "</h2></div>\n\
                            <div id='diamante_" + id + "' class='text-light' style='width:33%;text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.diamantes + "</h2></div>\n\
                        </div>\n\
                    </div>\n\
                </div>");
                                    } else {
                                        id = userdataIMG.ID;
                                        key = s.key;
                                        type = userdataIMG.type;
                                        correoI = userdataIMG.correoI;
                                        imagenProfile = userdataIMG.profileIMG;
                                        nombreU = userdataIMG.nombreU;
                                        $("#cajaValoresInput").append('\\n\
                                                                <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                                <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                                <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                                <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                                <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                        $("#publicacionesDiv").append("\n\
                <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='outline: none;background-color: #212529;border-radius:200px'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                 </div>\n\
</div>\n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='' onclick=profile('" + nombreU + "') style='font-family: Comic Sans MS, cursive;margin-bottom:4px;color:white;font-size: 16px;'><img class='zoom' style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                    <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div style='height: auto;' cont='" + userdataIMG.contadorPrincipal + "' class='text-center'>\n\
                        <div id='myCarousel" + id + "' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                            <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                                <div class='item active' style='text-align: center'> \n\
                                    <img src='img/a.jpg'  class='img-responsive'> \n\
                                </div> \n\
                            </div> \n\
                            <div class='container'>\n\
                                <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                    <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Previous</span> \n\
                                </a> \n\
                            </div>\n\
                            <div class='container'>\n\
                                <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                    <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Next</span> \n\
                                </a> \n\
                            </div>\n\
                        </div> \n\
                    </div>\n\
                    <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div class='actions text-light text-left' style='padding-left: 2%;height: 40px'>\n\
                        <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                        <div class='comment' id='" + id + "' onclick=comentarios('" + id + "','" + userdataIMG.type + "')></div>\n\
                        <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                    </div>\n\
                    <div class='container' style='margin-left:2%;width:142px'>\n\
                        <div class='row'>\n\
                            <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.likes + "</h2></div>\n\
                            <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.coms + "</h2></div>\n\
                            <div id='diamante_" + id + "' class='text-light' style='width:33%;text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.diamantes + "</h2></div>\n\
                        </div>\n\
                    </div>\n\
                </div>");
                                    }

                                } else if (userdataIMG.descripcion) {
                                    if (userdataIMG.cuentaVerificada) {
                                        id = userdataIMG.ID;
                                        key = s.key;
                                        type = userdataIMG.type;
                                        correoI = userdataIMG.correoI;
                                        imagenProfile = userdataIMG.profileIMG;
                                        nombreU = userdataIMG.nombreU;
                                        $("#cajaValoresInput").append('\\n\
                                                                <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                                <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                                <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                                <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                                <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                        $("#publicacionesDiv").append("<br>\n\
                <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='outline: none;background-color: #212529;border-radius:200px'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                 </div>\n\
</div>\n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='' onclick=profile('" + nombreU + "') style='font-family: Comic Sans MS, cursive;margin-bottom:4px;color:white;font-size: 16px;'><img class='zoom' style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 8px'></p></div>\n\
                    <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div style='height: auto;' cont='" + userdataIMG.contadorPrincipal + "' class='text-center'>\n\
                        <div id='myCarousel" + id + "' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                            <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                                <div class='item active' style='text-align: center'> \n\
                                    <img src='img/a.jpg'  class='img-responsive'> \n\
                                </div> \n\
                            </div> \n\
                            <div class='container'>\n\
                                <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                    <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Previous</span> \n\
                                </a> \n\
                            </div>\n\
                            <div class='container'>\n\
                                <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                    <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Next</span> \n\
                                </a> \n\
                            </div>\n\
                        </div> \n\
                    </div>\n\
                    <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
<div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                        <p class='' style='font-family: Comic Sans MS, cursive;height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-size: 16px;' >\n\
" + userdataIMG.descripcion + "</p>\n\
                                                    </div>\n\
                    <div class='actions text-light text-left' style='padding-left: 2%;height: 40px'>\n\
                        <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                        <div class='comment' id='" + id + "' onclick=comentarios('" + id + "','" + userdataIMG.type + "')></div>\n\
                        <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                    </div>\n\
                    <div class='container' style='margin-left:2%;width:142px'>\n\
                        <div class='row'>\n\
                            <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.likes + "</h2></div>\n\
                            <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.coms + "</h2></div>\n\
                            <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.diamantes + "</h2></div>\n\
                        </div>\n\
                    </div>\n\
                </div>");
                                    } else {
                                        id = userdataIMG.ID;
                                        key = s.key;
                                        type = userdataIMG.type;
                                        correoI = userdataIMG.correoI;
                                        imagenProfile = userdataIMG.profileIMG;
                                        nombreU = userdataIMG.nombreU;
                                        $("#cajaValoresInput").append('\\n\
                                                                <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                                <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                                <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                                <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                                <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                        $("#publicacionesDiv").append("<br>\n\
                <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='outline: none;background-color: #212529;border-radius:200px'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                 </div>\n\
</div>\n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='' onclick=profile('" + nombreU + "') style='font-family: Comic Sans MS, cursive;margin-bottom:4px;color:white;font-size: 16px;'><img class='zoom' style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                    <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                    <div style='height: auto;' cont='" + userdataIMG.contadorPrincipal + "' class='text-center'>\n\
                        <div id='myCarousel" + id + "' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                            <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                                <div class='item active' style='text-align: center'> \n\
                                    <img src='img/a.jpg'  class='img-responsive'> \n\
                                </div> \n\
                            </div> \n\
                            <div class='container'>\n\
                                <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                    <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Previous</span> \n\
                                </a> \n\
                            </div>\n\
                            <div class='container'>\n\
                                <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                    <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                    <span class='sr-only'>Next</span> \n\
                                </a> \n\
                            </div>\n\
                        </div> \n\
                    </div>\n\
                    <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
<div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                        <p class='' style='font-family: Comic Sans MS, cursive;height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-size: 16px;' >\n\
" + userdataIMG.descripcion + "</p>\n\
                                                    </div>\n\
                    <div class='actions text-light text-left' style='padding-left: 2%;height: 40px'>\n\
                        <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                        <div class='comment' id='" + id + "' onclick=comentarios('" + id + "','" + userdataIMG.type + "')></div>\n\
                        <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                    </div>\n\
                    <div class='container' style='margin-left:2%;width:142px'>\n\
                        <div class='row'>\n\
                            <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.likes + "</h2></div>\n\
                            <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.coms + "</h2></div>\n\
                            <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdataIMG.diamantes + "</h2></div>\n\
                        </div>\n\
                    </div>\n\
                </div>");
                                    }

                                }

                                if (contadorImagenes === "1") {
                                    typeS = userdataIMG.type;
                                    if (typeS === "image/jpeg"
                                            || typeS === "image/gif"
                                            || typeS === "image/png"
                                            || typeS === "image/bmp") {
                                        document.getElementById('carrusel' + id).innerHTML = '';
                                        $("#carrusel" + id).append("<div class='item active'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + userdataIMG.url + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'><img id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'> </div></div>");
                                    } else if (typeS === "video/mp4"
                                            || typeS === "video/avi"
                                            || typeS === "video/wmv"
                                            || typeS === "video/wma"
                                            || typeS === "video/flv"
                                            || typeS === "video/mkv"
                                            || typeS === "video/mks") {
                                        document.getElementById('carrusel' + id).innerHTML = '';
                                        $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'> <video ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + userdataIMG.url + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'> </div></div>");
                                    }
                                    document.getElementById("iz" + id).style.visibility = "hidden";
                                    document.getElementById("de" + id).style.visibility = "hidden";
                                } else if (contadorImagenes > 1) {
                                    var separador = "-";
                                    limite = contadorImagenes;
                                    arregloDeSubCadenas = type.split(separador, limite);
                                    var separadorUrl = "*";
                                    limiteUrl = contadorImagenes;
                                    arregloDeSubCadenasUrl = url.split(separadorUrl, limiteUrl);
                                    document.getElementById('carrusel' + id).innerHTML = '';
                                }

                                for (var cI = 0; cI < contadorImagenes; cI++) {
                                    if (contadorImagenes > 1) {
                                        if (cI === 0) {
                                            if (arregloDeSubCadenas[cI] === "video/mp4"
                                                    || arregloDeSubCadenas[cI] === "video/avi"
                                                    || arregloDeSubCadenas[cI] === "video/wmv"
                                                    || arregloDeSubCadenas[cI] === "video/wma"
                                                    || arregloDeSubCadenas[cI] === "video/flv"
                                                    || arregloDeSubCadenas[cI] === "video/mkv"
                                                    || arregloDeSubCadenas[cI] === "video/mks") {
                                                $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> <video ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;center-block;'> </div></div>");
                                            } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                    || arregloDeSubCadenas[cI] === "image/gif"
                                                    || arregloDeSubCadenas[cI] === "image/png"
                                                    || arregloDeSubCadenas[cI] === "image/bmp") {
                                                $("#carrusel" + id).append("<div class='item active'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width: 100%;center-block;'><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> </div></div>");
                                            }
                                        } else if (cI > 0) {
                                            if (arregloDeSubCadenas[cI] === "video/mp4"
                                                    || arregloDeSubCadenas[cI] === "video/avi"
                                                    || arregloDeSubCadenas[cI] === "video/wmv"
                                                    || arregloDeSubCadenas[cI] === "video/wma"
                                                    || arregloDeSubCadenas[cI] === "video/flv"
                                                    || arregloDeSubCadenas[cI] === "video/mkv"
                                                    || arregloDeSubCadenas[cI] === "video/mks") {
                                                $("#carrusel" + id).append("<div class='item'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> <video ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width:100%;center-block;'> </div></div>");
                                            } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                    || arregloDeSubCadenas[cI] === "image/gif"
                                                    || arregloDeSubCadenas[cI] === "image/png"
                                                    || arregloDeSubCadenas[cI] === "image/bmp") {
                                                $("#carrusel" + id).append("<div class='item'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width:100%;center-block;'><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> </div></div>");
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    });
                } else {
                }

            });
        </script>

        <script>
            function like(id) {
                var element = document.getElementById("loader");
                element.style.display = 'flex';
                element.classList.toggle("loader");
                correo = $("#correoInput_" + id + "").val();
                k = $("#keyInput_" + id + "").val();
                t = $("#typeInput_" + id + "").val();
                correoFoto = $("#correoIMGInput_" + id + "").val();
                auth.onAuthStateChanged(function (user) {
                    if (user) {
                        var currentItem = $("#carrusel" + id + " .item.active");
                        var currentIndex = parseInt($('#carrusel' + id + ' .item').index(currentItem));
                        var iden = "#corazon_" + currentIndex + "_" + id + "";
                        fire.collection("IMAGENES").where("mail", "==", correo)
                                .get()
                                .then(function (querySnapshot) {
                                    querySnapshot.forEach(function (doc) {
                                        var publicaciones = doc.data();
                                        var idRec = "corazon_" + id;
                                        var idP = "contadorLikes_" + id;
                                        divLike = document.getElementById(idRec.toString());
                                        divCont = document.getElementById(idP.toString());
                                        var corazon = document.getElementById(id);
                                        var clase = corazon.className;
                                        if (clase === "heart") {
                                            if ($(iden).hasClass("element")) {
                                                $(iden).attr("class", "element flip-scale-down-diag-2");
                                                setTimeout(mensaje, 300);
                                            }
                                            function mensaje() {
                                                $(iden).attr("class", "element flip-scale-down-diag-2 h");
                                            }
                                            fire.collection("IMAGENES").where("mail", "==", correoFoto)
                                                    .get()
                                                    .then(function (querySnapshot) {
                                                        querySnapshot.forEach(function (doc) {
                                                            var publicacionesNumerica = doc.data();
                                                            numNot = publicacionesNumerica.contNot;
                                                            numrest = numNot - 1;
                                                            url = publicaciones.foto;
                                                            var nombreR = publicaciones.nombre;
                                                            clase = "heart heart_animate";
                                                            if (url === "undefined") {
                                                                var like = {
                                                                    ID: id,
                                                                    correo: correo,
                                                                    correoFoto: correoFoto,
                                                                    nombreU: nombreR,
                                                                    clas: clase,
                                                                    contNotificacion: numrest
                                                                };
                                                                firebase.database().ref("likes/").push(like).then(actualizaValor(numrest, correoFoto));
                                                                document.getElementById(id).className = "heart heart_animate";
                                                                contLikes(id, k, t, correoFoto, numrest);
                                                            } else {
                                                                var like = {
                                                                    ID: id,
                                                                    correo: correo,
                                                                    correoFoto: correoFoto,
                                                                    nombreU: nombreR,
                                                                    url: url,
                                                                    clas: clase,
                                                                    contNotificacion: numrest
                                                                };
                                                                firebase.database().ref("likes/").push(like).then(actualizaValor(numrest, correoFoto));
                                                                document.getElementById(id).className = "heart heart_animate";
                                                                contLikes(id, k, t, correoFoto, numrest);
                                                            }
                                                        });
                                                    });
                                        } else
                                        if (clase === "heart heart_animate") {
                                            quitarLike(id);
                                            dcontLikes(id, k, t);

                                        }
                                    });
                                })
                                .catch(function (error) {
                                });
                    } else {
                        location.replace("index.html");
                    }
                });
            }

            function likeDT(id) {
                correo = $("#correoInput_" + id + "").val();
                k = $("#keyInput_" + id + "").val();
                t = $("#typeInput_" + id + "").val();
                correoFoto = $("#correoIMGInput_" + id + "").val();
                auth.onAuthStateChanged(function (user) {
                    if (user) {
                        var currentItem = $("#carrusel" + id + " .item.active");
                        var currentIndex = parseInt($('#carrusel' + id + ' .item').index(currentItem));
                        var iden = "#corazon_" + currentIndex + "_" + id + "";
                        fire.collection("IMAGENES").where("mail", "==", correo)
                                .get()
                                .then(function (querySnapshot) {
                                    querySnapshot.forEach(function (doc) {
                                        var publicaciones = doc.data();
                                        var idRec = "corazon_" + id;
                                        var idP = "contadorLikes_" + id;
                                        divLike = document.getElementById(idRec.toString());
                                        divCont = document.getElementById(idP.toString());
                                        var corazon = document.getElementById(id);
                                        var clase = corazon.className;
                                        if (clase === "heart") {
                                            if ($(iden).hasClass("element")) {
                                                $(iden).attr("class", "element flip-scale-down-diag-2");
                                                setTimeout(mensaje, 300);
                                            }
                                            function mensaje() {
                                                $(iden).attr("class", "element flip-scale-down-diag-2 h");
                                            }
                                            fire.collection("IMAGENES").where("mail", "==", correoFoto)
                                                    .get()
                                                    .then(function (querySnapshot) {
                                                        querySnapshot.forEach(function (doc) {
                                                            var publicacionesNumerica = doc.data();
                                                            numNot = publicacionesNumerica.contNot;
                                                            numrest = numNot - 1;

                                                            url = publicaciones.foto;
                                                            var nombreR = publicaciones.nombre;
                                                            clase = "heart heart_animate";
                                                            if (url === "undefined") {
                                                                var like = {
                                                                    ID: id,
                                                                    correo: correo,
                                                                    correoFoto: correoFoto,
                                                                    nombreU: nombreR,
                                                                    clas: clase,
                                                                    contNotificacion: numrest
                                                                };
                                                                firebase.database().ref("likes/").push(like).then(actualizaValor(numrest, correoFoto));
                                                                document.getElementById(id).className = "heart heart_animate";
                                                                contLikes(id, k, t, correoFoto, numrest);
                                                            } else {
                                                                var like = {
                                                                    ID: id,
                                                                    correo: correo,
                                                                    correoFoto: correoFoto,
                                                                    nombreU: nombreR,
                                                                    url: url,
                                                                    clas: clase,
                                                                    contNotificacion: numrest
                                                                };
                                                                firebase.database().ref("likes/").push(like).then(actualizaValor(numrest, correoFoto));
                                                                document.getElementById(id).className = "heart heart_animate";
                                                                contLikes(id, k, t, correoFoto, numrest);
                                                            }
                                                        });
                                                    });
                                        } else
                                        if (clase === "heart heart_animate") {
                                            var element = document.getElementById("loader");
                                            element.style.display = '';
                                            element.classList.remove("loader");
                                            if ($(iden).hasClass("element")) {
                                                $(iden).attr("class", "element flip-scale-down-diag-2");
                                                setTimeout(mensaje, 300);
                                            }
                                            function mensaje() {
                                                $(iden).attr("class", "element flip-scale-down-diag-2 h");
                                            }
                                        }
                                    });
                                })
                                .catch(function (error) {
                                });
                    } else {

                    }
                });
            }
            function quitarLike(id) {
                var key = $("#" + id).attr("name");
                firebase.database().ref("likes/").child(key).remove();
                document.getElementById(id).className = "heart";
            }
            function contLikes(i, k, t, c, nr) {
                var ref = firebase.database().ref("Imagenes");
                ref.orderByChild("ID").equalTo(i).on("child_added", function (s) {
                    userdata = s.val();
                    likes = parseInt(userdata.likes);
                    likesAgregar = likes + 1;
                    var newData = {
                        likes: likesAgregar
                    };
                    refTab = firebase.database().ref("Imagenes/").child(k);
                    refTab.update(newData).then(pruebas(c, nr, "l"));
                });
            }
            function dcontLikes(i, k, t) {
                var ref = firebase.database().ref("Imagenes");
                ref.orderByChild("ID").equalTo(i).on("child_added", function (s) {
                    userdata = s.val();
                    likes = parseInt(userdata.likes);
                    likesDAgregar = likes - 1;
                    var newData = {
                        likes: likesDAgregar
                    };
                    var refTab = firebase.database().ref("Imagenes/").child(k);
                    refTab.update(newData).then(function () {
                        var element = document.getElementById("loader");
                        element.style.display = '';
                        element.classList.remove("loader");
                    });
                });
            }
            function diamante(ide) {
                var element = document.getElementById("loader");
                element.style.display = 'flex';
                element.classList.toggle("loader");
                Ucorreo = $("#correoInput_" + ide + "").val();
                urlU = $("#imagenProfileInput_" + ide + "").val();
                kU = $("#keyInput_" + ide + "").val();
                correoFoto = $("#correoIMGInput_" + ide + "").val();
                auth.onAuthStateChanged(function (user) {
                    if (user) {
                        var mail = user.email;
                        var encripta = cifrar(mail.toString());
                        var correo = encripta.palabraEncriptada;
                        fire.collection("IMAGENES").where("mail", "==", correo)
                                .get()
                                .then(function (querySnapshot) {
                                    querySnapshot.forEach(function (doc) {
                                        var publicaciones = doc.data();
                                        var idAnimacion = "d_" + ide;
                                        var diamantesBase = publicaciones.diamantes;
                                        if (diamantesBase) {
                                            docu = publicaciones.uid;
                                            var docRef = fire.collection('IMAGENES').doc(docu);
                                            var newdiamantes = diamantesBase - 1;
                                            var newData = {
                                                diamantes: newdiamantes
                                            };
                                            docRef.update(newData).then(function () {
                                                var diamante = document.getElementById(idAnimacion);
                                                var clase = diamante.className;
                                                if (clase === "diamond") {
                                                    urlP = publicaciones.foto;
                                                    diamante.className = "diamond diamond_animate";
                                                    var nombreR = publicaciones.nombre;
                                                    var claseAzul = "diamond diamond_animate";
                                                    var nDiamante = {
                                                        ID: ide,
                                                        correo: Ucorreo,
                                                        nombreU: nombreR,
                                                        url: urlU,
                                                        clas: claseAzul
                                                    };
                                                    firebase.database().ref("diamantes/").push(nDiamante);
                                                    contDiamantes(ide, kU, correoFoto, nombreR, urlP);

                                                } else
                                                if (clase === "diamond diamond_animate") {

                                                    urlP = publicaciones.foto;
                                                    var nombreR = publicaciones.nombre;
                                                    numNot = publicaciones.contNot;
                                                    numrest = numNot - 1;
                                                    contDiamantes(ide, kU, correoFoto, nombreR, urlP);
                                                }
                                            });

                                        } else if (diamantesBase === undefined || diamantesBase === 0) {
                                            var element = document.getElementById("loader");
                                            element.style.display = '';
                                            element.classList.remove("loader");
                                            document.getElementById("modalBodyDiamante").innerHTML = "No tienes diamantes para regalar, pero puedes comprar mas diamantes en la <a href=tienda.html style = 'color:#2aa58a'>Store</a>";
                                            $('#modaltuto').modal('show');
                                        }
                                    });
                                })
                                .catch(function (error) {
                                });
                    } else {

                    }
                });
            }
            function contDiamantes(i, k, c, nombreR, u) {
                auth.onAuthStateChanged(function (user) {
                    if (user) {
                        var mail = user.email;
                        var encripta = cifrar(mail.toString());
                        var correo = encripta.palabraEncriptada;
                        fire.collection("IMAGENES").where("mail", "==", c)
                                .get()
                                .then(function (querySnapshot) {
                                    querySnapshot.forEach(function (doc) {
                                        var publicaciones = doc.data();
                                        var numNot = publicaciones.contNot;
                                        numrest = numNot - 1;
                                        var ref = firebase.database().ref("Imagenes");
                                        ref.orderByChild("ID").equalTo(i).on("child_added", function (s) {

                                            userdata = s.val();
                                            diamantes = parseInt(userdata.diamantes);
                                            diamantesAgregar = diamantes + 1;
                                            var nombre;
                                            var newData = {
                                                diamantes: diamantesAgregar
                                            };
                                            var refTab = firebase.database().ref("Imagenes/").child(k);
                                            refTab.update(newData).then(function () {
                                                var like = {
                                                    ID: i,
                                                    correo: correo,
                                                    correoFoto: c,
                                                    nombreU: nombreR,
                                                    url: u,
                                                    contNotificacion: numrest,
                                                    cantDiams: 1
                                                };
                                                firebase.database().ref("likes/").push(like).then(function () {
                                                    pruebas(c, numrest, "d");
                                                });
                                            });
                                        });
                                    });
                                });
                    }
                });
            }
            function comentarios(id, t) {
                var1 = id.concat("," + t);
                var url = "comentarios.html";
                url += "?";
                nomVec = var1.split(",");
                for (i = 0; i < nomVec.length; i++) {
                    url += escape(nomVec[i]) + "=" + escape(nomVec[i]) + "&";
                }
                url = url.substring(0, url.length - 1);
                location.href = url;
            }
        </script>

        <script>
            firebase.database().ref("Imagenes/").on("child_changed", function (snapshot) {
                var changedPost = snapshot.val();
                divCom = document.getElementById("comentario_" + changedPost.ID);
                divCom.removeChild(divCom.lastChild);
                divLike = document.getElementById("corazon_" + changedPost.ID);
                divLike.removeChild(divLike.lastChild);
                divDia = document.getElementById("diamante_" + changedPost.ID);
                divDia.removeChild(divDia.lastChild);
                $("#comentario_" + changedPost.ID).append("<h2 id='contadorLikes_" + changedPost.ID + "' style='margin-top:0px;margin-bottom:0px;height:100%;font-size:15px;font-weight: bold'>" + changedPost.coms + "</h2>");
                $("#corazon_" + changedPost.ID).append("<h2 id='contadorLikes_" + changedPost.ID + "' style='margin-top:0px;margin-bottom:0px;height:100%;font-size:15px;font-weight: bold'>" + changedPost.likes + "</h2>");
                $("#diamante_" + changedPost.ID).append("<h2 id='contadorLikes_" + changedPost.ID + "' style='margin-top:0px;margin-bottom:0px;height:100%;font-size:15px;font-weight: bold'>" + changedPost.diamantes + "</h2>");

            });
            firebase.database().ref("likes/").on("child_removed", function (snapshot) {
                var changedPost = snapshot.val();
                if (changedPost.clas) {
                    document.getElementById(changedPost.ID).className = "heart";
                }

            });
            auth.onAuthStateChanged(function (user) {
                var mail = user.email;
                var encripta = cifrar(mail.toString());
                var correo = encripta.palabraEncriptada;
                function compL() {
                    firebase.database().ref("likes")
                            .on("child_added", function (s) {
                                userdata = s.val();
                                var clase = userdata.clas;
                                if (correo === userdata.correo) {
                                    if (clase === "heart heart_animate") {
                                        document.getElementById(userdata.ID).className = "heart heart_animate";
                                        clearInterval(timer);
                                        var id = userdata.ID.toString();
                                        $("#" + id).attr("name", s.key);
                                    } else
                                    if (clase === "heart") {
                                        document.getElementById(userdata.ID).className = "heart";
                                    }

                                } else
                                if (userdata.correo !== correo) {
                                    clearInterval(timer);
                                }
                            });
                }
                function compD() {
                    firebase.database().ref("diamantes")
                            .on("child_added", function (s) {
                                userdata = s.val();
                                var clase = userdata.clas;
                                if (correo === userdata.correo) {
                                    if (clase === "diamond diamond_animate") {
                                        document.getElementById("d_" + userdata.ID).className = "diamond diamond_animate";
                                        clearInterval(timerD);
                                    } else
                                    if (clase === "diamond") {
                                        document.getElementById("d_" + userdata.ID).className = "diamond";
                                    }
                                } else
                                if (userdata.correo !== correo) {
                                    clearInterval(timerD);
                                }
                            });
                }

                var timer = setInterval(compL, 1200);
                var timerD = setInterval(compD, 1200);
            });
            function profile(n) {
                if (nombreC === n.toString()) {
                    location.href = "profile.html";
                } else if (nombreC !== n.toString()) {
                    var stringUrl = n.toString();
                    var url = "profileUser.html";
                    url += "?";
                    nomVec = stringUrl.split(",");
                    url += nomVec;
                    location.href = url;
                }
            }
        </script>
        <script>
            var database = firebase.database();
            auth.onAuthStateChanged(function (user) {
                if (user) {
                    var mail = user.email;
                    var encripta = cifrar(mail.toString());
                    var correo = encripta.palabraEncriptada;
                    fire.collection("IMAGENES").where("mail", "==", correo)
                            .onSnapshot(function (querySnapshot) {
                                var cities = [];
                                querySnapshot.forEach(function (doc) {
                                    publicaciones = doc.data();
                                    if (correo === publicaciones.mail) {
                                        newN = publicaciones.new;
                                        newC = publicaciones.newC;
                                        newD = publicaciones.newD;
                                        var uid = publicaciones.uid;
                                        cities.push(newN + " : " + newC + " : " + uid);
                                        if (publicaciones.new) {
                                            $("#button_Not").attr("onclick", "deleteN('" + uid + "')");
                                            $("#button_NotT").attr("onclick", "deleteN('" + uid + "')");
                                            divNot = document.getElementById("not");
                                            divNotTog = document.getElementById("notT");
                                            withN = 35;
                                            heightW = 35;
                                            withNT = 30;
                                            heightWT = 30;
                                            divNot.innerHTML = '';
                                            divNotTog.innerHTML = '';


                                            $("#notT").append("<img style='width: " + withNT + "px;height: " + heightWT + "px;margin-top: 8px;margin-bottom: 8px' class='zoom' src='img/newNot.png'>");
                                            $("#not").append("<img style='width: " + withN + "px;height: " + heightW + "px;margin-top: 8px;margin-bottom: 8px' class='zoom' src='img/newNot.png'>");
                                        }
                                        if (publicaciones.newM) {
                                            $("#notificacion").attr("src", "img/MensajeBlanco(1).png");
                                            $("#notificacion1").attr("src", "img/MensajeBlanco(1).png");
                                            $("#downR").attr("src", "img/downR.png");
                                            $("#button_Men").attr("onclick", "deleteM('" + uid + "')");
                                            $("#drop_men").attr("onclick", "deleteM('" + uid + "')");
                                        }
                                    } else {
                                    }
                                });
                            });
                }
            });
            function pruebas(c, numrest, t) {
                auth.onAuthStateChanged(function (user) {
                    if (user) {
                        var correo = c;
                        fire.collection("IMAGENES").where("mail", "==", correo)
                                .get()
                                .then(function (querySnapshot) {
                                    querySnapshot.forEach(function (doc) {
                                        var publicaciones = doc.data();
                                        var uid = publicaciones.uid;
                                        if (t === "d") {
                                            ganancias = publicaciones.ganancias;
                                            if (ganancias === 0 || ganancias === undefined) {
                                                var data = {
                                                    new : 1,
                                                    contNot: numrest,
                                                    ganancias: 1 - (1 * 0.19)
                                                };
                                            } else if (ganancias > 0) {

                                                var data = {
                                                    new : 1,
                                                    contNot: numrest,
                                                    ganancias: parseFloat(ganancias) + (1 - (1 * 0.19))
                                                };
                                            }


                                        } else if (t === "l") {

                                            var data = {
                                                new : 1,
                                                contNot: numrest
                                            };
                                        }
                                        var element = document.getElementById("loader");
                                        element.style.display = '';
                                        element.classList.remove("loader");
                                        fire.collection("IMAGENES").doc(uid).update(data).then(function () {
                                        });
                                    });
                                });
                    }
                });
            }
            function actualizaValor(n, correoFoto) {
                fire.collection("IMAGENES").where("mail", "==", correoFoto)
                        .get()
                        .then(function (querySnapshot) {
                            querySnapshot.forEach(function (doc) {

                                var publicaciones = doc.data();
                                uid = publicaciones.uid;
                                datanueva = {
                                    contNot: n
                                };
                                fire.collection("IMAGENES").doc(uid).update(datanueva).then(function () {
                                });
                            });
                        });


            }

            function reporte(uid, ty) {
                ID = uid.concat("," + ty);
                var encrypted = CryptoJS.TripleDES.encrypt(ID, "4379a7f1f63d50f763ad1fe333203fcb9d5e3631");
                var stringUrl = encrypted.toString();
                var url = "reporte.html";
                url += "?";
                nomVec = stringUrl.split(",");
                url += nomVec;
                location.href = url;
            }

        </script>
        <script>
            function tuto() {
                $('#modaltuto').modal('show');
            }
        </script>
        <script>
            var DELAY = 300,
                    clicks = 0,
                    timerLikeeee = null;
            function dobl(id) {

                clicks++;
                if (clicks === 1) {
                    timer = setTimeout(function () {
                        clicks = 0;
                    }, DELAY);
                } else {
                    clearTimeout(timerLikeeee);
                    var element = document.getElementById("loader");
                    element.style.display = 'flex';
                    element.classList.toggle("loader");
                    likeDT(id);
                    clicks = 0;
                }

            }

            var xDown = null;
            var yDown = null;
            function getTouches(evt) {
                return evt.touches ||
                        evt.originalEvent.touches;
            }
            function handleTouchStart(evt) {
                const firstTouch = getTouches(evt)[0];
                xDown = firstTouch.clientX;
                yDown = firstTouch.clientY;
            }
            ;
            function handleTouchMove(evt, id) {
                if (!xDown || !yDown) {
                    return;
                }
                var xUp = evt.touches[0].clientX;
                var yUp = evt.touches[0].clientY;
                var xDiff = xDown - xUp;
                var yDiff = yDown - yUp;
                if (Math.abs(xDiff) > Math.abs(yDiff)) {
                    if (xDiff > 0) {
                        $('#myCarousel' + id + '').carousel('next');
                    } else {
                        $('#myCarousel' + id + '').carousel('prev');

                    }
                } else {

                }
                xDown = null;
                yDown = null;
            }
        </script>
    </body>
</html>
