<!DOCTYPE html>
<!-- Create By Alfonso Lopez -->
<html>
    <head>
        <title>Enjoy</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="fuente/comicS.css"> 
        <link rel="icon" href="img/icon.png" />
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"  crossorigin="anonymous">
        <link rel="stylesheet" href="script/css/like.css">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"  crossorigin="anonymous"></script>
        <script src="https://kit.fontawesome.com/637f7442f6.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.linearicons.com/free/1.0.0/icon-font.min.css">
        <link rel="stylesheet" href="script/css/body.css">
        <link rel="stylesheet" href="script/css/scrooll1.css">
        <link rel="stylesheet" href="script/css/newFile.css">
        <style>
            @font-face {
                font-family: "Comic Sans MS";
                src: url("fuente/comic-sans-ms-4.ttf");
            }
            input::placeholder{
                color: white;
                font-family: "Comic Sans MS", cursive;
            }
            .zoom:hover{
                transform: scale(1.2);
            }
            .dropdown > .dropdown-item:hover{
                background-color: #04242c;
                color:white;
            }
            .navbar {
                margin-bottom: 0;
                background-color: #f4511e;
                line-height: 1.42857143 !important;
                letter-spacing: 4px;
                font-family: Montserrat, sans-serif;}
            @media (min-width: 992px) {
                .ocultar-div{
                    display:none;
                }
            }
            @media (max-width: 991px) {
                .ocultar-nav{
                    display:none;
                }
            }
            @media(max-width: 490px){
                .col{
                    max-width: 76%;
                }
            }
            @media(max-width: 410px){
                .col{
                    max-width: 70%;
                }
            }
            @media(max-width: 346px){
                .col{
                    max-width: 69%;
                }
            }
            @media(max-width: 338px){
                .col{
                    max-width: 68%;
                }
            }
            @media(max-width: 330px){
                .col{
                    max-width: 65%;
                }
            }
            @media(max-width: 309px){
                .col{
                    max-width: 63%;
                }
            }
            @media(max-width: 298px){
                .col{
                    max-width: 112px;
                }
            }
            .element{
                transform: scale(0);
                position: absolute;
                left: 0px;
                top:0px;
                width: 100%;
                height: 100%;
                opacity: .5
            }
            .flip-scale-down-diag-2 {
                transform: scale(1.6);
                transition: transform 0.4s;
            }
            .h {
                transform: scale(0);
                transition: transform 0.4s;
            }
            .btn:focus{
                outline: none;
                box-shadow: none;

                font-family:  "Comic Sans MS", cursive;
            }
            .dropdown:focus{
                outline: none;
                box-shadow: none;

                font-family:  "Comic Sans MS", cursive;
            }
            .inpu:focus{
                outline: none;
                box-shadow: none;

                font-family:  "Comic Sans MS", cursive;
            }
            .scrol{
                overflow-x: hidden;
            }
            .loader {
                position: fixed;
                left: 0px;
                top: 0px;
                width: 100%;
                height: 100%;
                z-index: 9999;
                background-color: rgba(1,1,1,0);
                align-items: center;
                display: flex;
                opacity: .9;
                justify-content: center;
            }
        </style>

    </head>
    <body style="background-color: #131313;
          background-size: cover;overflow-x: hidden;
          background-attachment: fixed"
          class="scrol scrol-thumb">
        <div style="position: fixed;top: 0px;width: 100%;display: block;padding: 0px" class="sticky-top">
            <nav class="navbar bg-dark navbar-expand-lg navbar-toggleable-xl" style="background-color: #343a40;padding: 0px;justify-content: space-around;margin: 0px">
                <div class="navbar-toggler" style="padding: 0px;justify-content: space-around;width: 100%" >
                    <ul class="nav justify-content-around" style="padding: 0px;">
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" href="publicaciones.html" style="padding: 0px;padding-right: 5px;background-color: #343a40">
                                <img src="img/camRetro.png" style="height: 30px;width: 30px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>                        
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" href="search.html" style="padding: 0;padding-right: 5px;background-color: #343a40">
                                <img src="img/iconUsers.png" style="height: 30px;width: 30px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item " id="s" href="subir.html" style="padding: 0;padding-right: 5px;background-color: #343a40">
                                <img src="img/add .png" style="height: 30px;width: 30px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" id="button_NotT" onclick="deleteN()" style="padding: 0;padding-right: 5px;background-color: #343a40">
                                <div id="notT" class="p-0" style="padding:0px">
                                    <img src="img/notification (1).png" style="height: 30px;width: 30px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                                </div>
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" href="profile.html" style="padding: 0;padding-right: 5px;background-color: #343a40">
                                <img id="imgprofile1" style="width: 30px;height: 30px;border-radius: 18px;object-fit:cover;margin-top: 8px;margin-bottom: 8px" src="img/user.png" class="zoom">
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <div class="dropdown show p-0">
                                <a  href="#" style="width: 3px;height: 3px;background-color: #343a40" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <img id="downR" src="img/down.png" style="width: 12px;margin-top: 16px;margin-bottom: 8px" class="zoom">
                                </a>

                                <div class="dropdown-menu dropdown dropdown-menu-right" aria-labelledby="dropdownMenuLink" style="background-color:  #343a40">
                                    <a class="dropdown-item text-light mb-1" href="profile.html">
                                        <img style="width: 20px;height: 20px;border-radius: 200px;margin-right: 5px" src="img/userd.png">Perfil
                                    </a>
                                    <a class="dropdown-item text-light mb-1" href="tienda.html">
                                        <img style="width: 20px;height: 20px;margin-right: 5px" src="img/tienda.png">Store
                                    </a>
                                    <a id="drop_men" class="dropdown-item text-light mb-1" onclick="deleteM()" href="#">
                                        <img id="notificacion1" style="width: 20px;height: 20px;margin-right: 5px" src="img/mensajeW.png">Chat
                                    </a>

                                    <a class="dropdown-item text-light mb-1" href="settings.html">
                                        <img style="width: 20px;height: 20px;margin-right: 5px" src="img/settings.png">Configuracion
                                    </a>
                                    <a class="dropdown-item text-light mb-1" id="cerrarS">
                                        <img style="width: 20px;height: 20px;margin-right: 5px" src="img/logout.png">Cerrar Sesion
                                    </a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="navbar justify-content-center ocultar-nav bg-dark" style="padding: 0px;margin-bottom: 0px">
                    <ul class="nav justify-content-center" style="padding: 0px">
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" href="publicaciones.html" style="padding: 0px;padding-right: 25px;background-color: #343a40">
                                <img src="img/camRetro.png" style="height: 35px;width: 35px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>                        
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" href="search.html" style="padding: 0;padding-right: 25px;background-color: #343a40">
                                <img src="img/iconUsers.png" style="height: 30px;width: 35px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" href="tienda.html" style="padding: 0;padding-right: 25px;background-color: #343a40">
                                <img src="img/tienda.png" style="height: 33px;width: 35px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item " id="s" href="subir.html" style="padding: 0;padding-right: 25px;background-color: #343a40">
                                <img src="img/add .png" style="height: 35px;width: 35px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px;cursor: pointer">
                            <a class="nav-item " id="button_Men" onclick="deleteM()" style="padding: 0;padding-right: 25px;background-color: #343a40">
                                <img id="notificacion" src="img/mensajeW.png" style="width: 35px;height: 35px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                            </a>
                        </li>


                        <li class="nav-item p-0" style="padding: 0px;cursor: pointer">
                            <a class="nav-item nav-link" id="button_Not" onclick="deleteN()" style="padding: 0;padding-right: 25px;background-color: #343a40">
                                <div id="not" class="p-0" style="padding:0px">
                                    <img src="img/notification (1).png" style="height: 35px;width: 35px;margin-top: 8px;margin-bottom: 8px" class="zoom">
                                </div>
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <a class="nav-item nav-link" href="profile.html" style="padding: 0;padding-right: 25px;background-color: #343a40">
                                <img id="imgprofile" style="width: 35px;height: 35px;border-radius: 18px;object-fit:cover;margin-top: 8px;margin-bottom: 8px" src="img/user.png" class="zoom">
                            </a>
                        </li>
                        <li class="nav-item p-0" style="padding: 0px">
                            <div class="dropdown show p-0">
                                <a  href="#" style="width: 3px;height: 3px;background-color: #343a40" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <img src="img/down.png" style="width: 12px;margin-top: 16px;margin-bottom: 8px" class="zoom">
                                </a>

                                <div class="dropdown-menu dropdown" aria-labelledby="dropdownMenuLink" style="background-color:  #343a40">
                                    <a class="dropdown-item text-light mb-1" href="profile.html">
                                        <img style="width: 20px;height: 20px;border-radius: 200px;margin-right: 5px" src="img/userd.png">Perfil
                                    </a>

                                    <a class="dropdown-item text-light mb-1" href="settings.html">
                                        <img style="width: 20px;height: 20px;margin-right: 5px" src="img/settings.png">Configuracion
                                    </a>
                                    <a class="dropdown-item text-light mb-1" id="cerrar">
                                        <img style="width: 20px;height: 20px;margin-right: 5px" src="img/logout.png">Cerrar Sesion
                                    </a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
        <div style="height: 55px">s </div>
        <div class="modal fade" id="modaltuto" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content" style="background-color: #212529;border-radius: 12px">
                    <div class="modal-header">
                        <div class="container-fluid justify-content-center" style="text-align: center">
                            <h2 class="modal-title comic" id="exampleModalLongTitle" style="color: white;font-size: 20px">Diamantes</h2>
                        </div>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div id="modal-body" class="modal-body container-fluid scrol scrol-thumb" style="overflow-y: auto;max-height: 500px">
                        <h2 class="comic" id="modalBodyDiamante" style="color: white;font-size: 20px;margin: 0px;text-align: center"></h2>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btna btn zoom comic" data-dismiss="modal" style="border:solid 1px white;color: white;font-size: 16px ">Cerrar</button>
                        <button type="button" class="btna btn zoom comic" style="border:solid 1px #2aa58a;color: white;font-size: 16px "><a href="tienda.html" style="color: white">Comprar</a></button>
                    </div>

                </div>
            </div>
        </div>
        <div class="" id="loader" style="background-color: rgba(1,1,1,0);text-align: center;display: none">
        </div>
        <div id='divPrincipalHTML' style="height: 100%;width: 100%" class="position-fixed">

            <div id='div1' style="height:85%;width: 100%;overflow-x: hidden" >
                <div id="publicacionesDiv" class="container scrol scrol-thumb justify-content-center" style="height: 95%;width: 100%;overflow-y: scroll;overflow-x: hidden;" >
                    <div id="publi" style="width: 98%;height: auto"></div>
                    <div id="com" style="width: 100%;height: auto"></div>
                </div>
            </div>
            <div  class="fixed-bottom container-fluid justify-content-center" id="div2" style="height: 6%;">               
                <div class='row justify-content-center' style="height: 100%">
                    <input type="text" id="iden" value="" class="hid" style="display: none" readonly="readonly" onkeypress="eliminar()">
                    <input type="text" id="url" value="" class="hid" style="display: none" readonly="readonly" onkeypress="eliminar()">
                    <input type="text" id="correo" value="" class="hid" style="display: none" readonly="readonly" onkeypress="eliminar()">
                    <input type="text" id="correoFoto" value="" class="hid" style="display: none" readonly="readonly" onkeypress="eliminar()">
                    <input type="text" id="nombre" value="" class="hid" style="display: none" readonly="readonly" onkeypress="eliminar()">
                    <input type="text" id='key' value='' class="hid" style="display: none" readonly="readonly" onkeypress="eliminar()">
                    <div class="container-fluid">
                        <div class="row justify-content-center">
                            <div class="col-10" style="padding: 0px">

                                <h2 class="justify-content-center" id="errorCaracter" style="background: rgba(255,55,55,0.2);border-radius: 15px;width: 100%;text-align: center;margin-top: 0px;color: red;font-family: 'Comic Sans MS',cursive;position: absolute;z-index: -1;"></h2>
                                <input type="text" onkeyup="onKeyUp(event, this.value)" class="inpu comic" style="position: absolute;min-height: 40px;line-height: 25px;font-size: 24px;background: rgba(248,248,245,.1);border-radius: 15px;color: white;width: 100%" id="comentUser"    placeholder="Escribe un comentario..." >

                            </div>
                            <div class="col-2 justify-content-center zoom" style="text-align: center;height: 40px;padding: 0px;background-color: #17507C;border-style: solid;border-radius: 20px" id="send">
                                <img src="img/comment.png" style="height: 100%">                             
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid" id="cajaValoresInput" style="display: none"></div>
        <script src="script/cif.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.19/jquery.touchSwipe.min.js"  crossorigin="anonymous" >
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"  crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"  crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js" crossorigin="anonymous"></script>
        <script src="https://momentjs.com/downloads/moment.js"  crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"  crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.33/moment-timezone.min.js" crossorigin="anonymous" ></script>
        <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-firestore-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-auth-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-compat.js"></script>
        <script>
                                    var firebaseConfig = {
                                        apiKey: "AIzaSyB9zjuIk3aupb9lxw4kdE10WELo3RflJP0",
                                        authDomain: "enjoy-13d08.firebaseapp.com",
                                        databaseURL: "https://enjoy-13d08-default-rtdb.firebaseio.com",
                                        projectId: "enjoy-13d08",
                                        storageBucket: "enjoy-13d08.appspot.com",
                                        messagingSenderId: "259344011433",
                                        appId: "1:259344011433:web:2766c0f29a97a74da5d9b8"
                                    };
                                    firebaseApp = firebase.initializeApp(firebaseConfig);
                                    var auth = firebase.auth();
                                    var fire = firebase.firestore();
        </script>
        <script>
            var nombreC;
            $('.carousel').on('touchstart', function (event) {
                const xClick = event.originalEvent.touches[0].pageX;
                $(this).one('touchmove', function (event) {
                    const xMove = event.originalEvent.touches[0].pageX;
                    const sensitivityInPx = 5;

                    if (Math.floor(xClick - xMove) > sensitivityInPx) {
                        $(this).carousel('next');
                    } else if (Math.floor(xClick - xMove) < -sensitivityInPx) {
                        $(this).carousel('prev');
                    }
                });
                $(this).on('touchend', function () {
                    $(this).off('touchmove');
                });
            });
            function onKeyUp(event, string) {
                var filtro = "<>";
                document.getElementById("errorCaracter").innerHTML = '';
                for (var i = 0; i < string.length; i++) {
                    if (filtro.indexOf(string.charAt(i)) > -1) {
                        document.getElementById("errorCaracter").innerHTML = '< ó > no son caracteres validos'
                    }
                }
                var keycode = event.keyCode;
                if (keycode == '13') {
                    enviar();
                } else {
                    var input = document.getElementById('comentUser');
                    var palabra = input.value;
                    if (input.value.length === 0)
                        return;
                    var mayuscula = palabra.substring(0, 1).toUpperCase();
                    if (palabra.length > 0) {
                        var minuscula = palabra.substring(1);
                    }
                    input.value = mayuscula.concat(minuscula);
                }
            }
            function eliminar() {
                location.reload();
            }
            $("#cerrar").click(function () {
                auth.signOut().then(function () {
                    window.location = "index.html";
                });
            });
            $("#cerrarS").click(function () {
                auth.signOut().then(function () {
                    window.location = "index.html";
                });
            });
            function deleteN(uid) {
                if (uid) {
                    var docref = fire.collection('IMAGENES').doc(uid);

                    docref.update({
                        new : firebase.firestore.FieldValue.delete()
                    }).then(function () {
                        var url = "notificaciones.html";
                        location.href = url;
                    });
                } else {
                    var url = "notificaciones.html";
                    location.href = url;
                }
            }
            function deleteM(uid) {
                if (uid) {
                    var docref = fire.collection('IMAGENES').doc(uid);
                    docref.update({
                        newM: firebase.firestore.FieldValue.delete()
                    }).then(function () {
                        var url = "bandejaEntrada.html";
                        location.href = url;
                    });
                } else {
                    var url = "bandejaEntrada.html";
                    location.href = url;
                }
            }
            $(document).ready(deleteSus());
            function deleteSus() {
                auth.onAuthStateChanged(function (user) {
                    if (user) {
                        var mail = user.email;
                        var encripta = cifrar(mail.toString());
                        var correo = encripta.palabraEncriptada;
                        fire.collection("FECHAS").where("correoI", "==", correo)
                                .get()
                                .then(function (querySnapshot) {
                                    var CI = correo;
                                    var fechaT;
                                    var CS;
                                    querySnapshot.forEach(function (doc) {
                                        IDE = doc.id;
                                        var publicaciones = doc.data();
                                        fechaT = publicaciones.fechaTerminacion;
                                        CS = publicaciones.correoS;
                                        var aestTime = new Date().toLocaleString("en-US", {timeZone: "America/Mexico_City"});
                                        aestTime = new Date(aestTime);
                                        var newDateOptions = {
                                            day: "2-digit",
                                            month: "2-digit",
                                            year: "numeric"
                                        };
                                        var fecha1 = aestTime.toLocaleString("en-US", newDateOptions);
                                        arrFecha = fecha1.toString();
                                        separador = "/";
                                        var arrayDeCadenas = arrFecha.split(separador);
                                        mes = arrayDeCadenas[0];
                                        dia = arrayDeCadenas[1];
                                        year = arrayDeCadenas[2];
                                        fechaFormat1 = "" + year + "-" + mes + "-" + dia + "";
                                        var fecha11 = moment(fechaFormat1); 
                                        var fecha22 = moment(fechaT);
                                        var diferencia = parseInt(fecha11.diff(fecha22, 'days'));
                                        if (diferencia > 0 || diferencia < -30) {
                                            fire.collection("FECHAS").doc(IDE).delete().then(function () {
                                                dejarSeguir(CI, CS);
                                            });
                                        }
                                    }
                                    );
                                });
                        fire.collection("FECHAS").where("correoS", "==", correo)
                                .get()
                                .then(function (querySnapshot) {
                                    var CS = correo;
                                    var fechaTS;
                                    var CI;
                                    querySnapshot.forEach(function (doc) {
                                        IDE = doc.id;
                                        var publicaciones = doc.data();
                                        fechaTS = publicaciones.fechaTerminacion;
                                        CI = publicaciones.correoI;
                                        var aestTime = new Date().toLocaleString("en-US", {timeZone: "America/Mexico_City"});
                                        aestTime = new Date(aestTime);
                                        var newDateOptions = {
                                            day: "2-digit",
                                            month: "2-digit",
                                            year: "numeric"
                                        };
                                        var fecha1 = aestTime.toLocaleString("en-US", newDateOptions);
                                        arrFecha = fecha1.toString();
                                        separador = "/";
                                        var arrayDeCadenas = arrFecha.split(separador);
                                        mes = arrayDeCadenas[0];
                                        dia = arrayDeCadenas[1];
                                        year = arrayDeCadenas[2];
                                        fechaFormat1 = "" + year + "-" + mes + "-" + dia + "";
                                        var fecha11 = moment(fechaFormat1);
                                        var fecha22 = moment(fechaTS);
                                        var diferencia = parseInt(fecha11.diff(fecha22, 'days'));
                                        if (diferencia > 0 || diferencia < -30) {
                                            fire.collection("FECHAS").doc(IDE).delete().then(function () {
                                                dejarSeguir(CI, CS);
                                            });
                                        }
                                    });
                                });
                    } else {
                        location.replace("index.html");
                    }
                });

            }
            function dejarSeguir(CI, CS) {
                var arregloSeg = "";
                fire.collection("IMAGENES").where("mail", "==", CI)
                        .get()
                        .then(function (querySnapshot) {
                            querySnapshot.forEach(function (doc) {
                                var publicaciones = doc.data();
                                doc = publicaciones.uid;
                                var docRef = fire.collection('IMAGENES').doc(doc);
                                var contSeg = publicaciones.contSeg;
                                url = publicaciones.foto;
                                nombre = publicaciones.nombre;
                                if (contSeg > 0) {
                                    var seguidores = publicaciones.seguidores;
                                    var separador = "*";
                                    limite = contSeg;
                                    arregloDeSubCadenas = seguidores.split(separador, limite);
                                    for (var w = 0; w < contSeg; w++) {
                                        if (CS === arregloDeSubCadenas[w]) {
                                            arregloDeSubCadenas.splice(w, 1);
                                        }
                                    }
                                    contSeg = contSeg - 1;
                                    for (var i = 0; i < contSeg; i++) {
                                        arregloSeg = arregloSeg.concat(arregloDeSubCadenas[i] + "*");
                                    }
                                    arregloSeg = arregloSeg.substring(0, arregloSeg.length - 1);
                                    seguidores = arregloSeg;
                                    var newData = {
                                        seguidores: seguidores,
                                        contSeg: contSeg
                                    };
                                    docRef.update(newData).then(function () {
                                        fire.collection("IMAGENES").where("mail", "==", CS)
                                                .get()
                                                .then(function (querySnapshot) {
                                                    querySnapshot.forEach(function (doc) {
                                                        var publicacionesCS = doc.data();
                                                        var seguidos = publicacionesCS.seguidos;
                                                        var cantSeguidos = publicacionesCS.sigo;
                                                        numNot = publicacionesCS.contNot;
                                                        numrest = numNot - 1;
                                                        var separador = "*";
                                                        limite = cantSeguidos;
                                                        arregloDeSubCadenas = seguidos.split(separador, limite);
                                                        for (var w = 0; w < cantSeguidos; w++) {
                                                            if (CS === arregloDeSubCadenas[w]) {
                                                                arregloDeSubCadenas.splice(w, 1);
                                                            }
                                                        }
                                                        cantSeguidos = cantSeguidos - 1;
                                                        for (var i = 0; i < cantSeguidos; i++) {
                                                            arregloSeg = arregloSeg.concat(arregloDeSubCadenas[i] + "*");
                                                        }
                                                        arregloSeg = arregloSeg.substring(0, arregloSeg.length - 1);
                                                        seguidos = arregloSeg;
                                                        var newData = {
                                                            correoFoto: CS,
                                                            deleteSus: nombre,
                                                            url: url,
                                                            contNotificacion: numrest
                                                        };

                                                        var newNot = {
                                                            new : 1,
                                                            seguidos: seguidos,
                                                            sigo: cantSeguidos
                                                        };
                                                        docCS = publicacionesCS.uid;
                                                        var docRef = fire.collection('IMAGENES').doc(docCS);
                                                        docRef.update(newNot).then(function () {
                                                            firebase.database().ref("likes/").push(newData).then(function () {
                                                                var ref = firebase.database().ref("Imagenes");
                                                                ref.on("child_added", function (s) {
                                                                    userdata = s.val();
                                                                    if (userdata.correoI === CI) {
                                                                        var keys = s.key;
                                                                        var refTab = firebase.database().ref("Imagenes/").child(keys);
                                                                        refTab.update(newData);
                                                                    }
                                                                });
                                                                setTimeout(function () {
                                                                    location.reload();
                                                                }, 2000);
                                                            });
                                                        });
                                                    });
                                                });
                                    });
                                }
                            });
                        });
            }
            variablesUrl = location.search.substring(1, location.search.length);
            arrVariables = variablesUrl.split("&");
            var sepVariables = arrVariables[0].split("=");
            var sepVariables2 = arrVariables[1].split("=");
            var resultado = unescape(sepVariables[1]);
            var resultado2 = unescape(sepVariables2[1]);
            if (isNaN(resultado)) {
                var I = resultado.toString();
                var I2 = resultado.toString();
            } else {
                var I = parseInt(resultado);
                var I2 = parseInt(resultado);
            }
            $("#iden").attr('value', I);
            var database = firebase.database();
            auth.onAuthStateChanged(function (user) {
                if (user) {
                    var mail = user.email;
                    var encripta = cifrar(mail.toString());
                    var correo = encripta.palabraEncriptada;
                    var t = resultado2;
                    var ref = firebase.database().ref("Imagenes/");
                    ref.orderByChild("ID").equalTo(I).on("child_added", function (s) {
                        var userdata = s.val();
                        var correoPub = userdata.correoI;
                        var mode = userdata.mode;
                        fire.collection("IMAGENES").where("mail", "==", correoPub)
                                .get()
                                .then(function (querySnapshot) {
                                    querySnapshot.forEach(function (doc) {
                                        var publicacionesA = doc.data();
                                        doc = publicacionesA.uid;
                                        var contSeg = publicacionesA.contSeg;
                                        if (contSeg > 0) {
                                            var seguidores = publicacionesA.seguidores;
                                            var separador = "*";
                                            limite = contSeg;
                                            arregloDeSubCadenas = seguidores.split(separador, limite);
                                            for (var w = 0; w < contSeg; w++) {
                                                if (correo === arregloDeSubCadenas[w]) {
                                                    getComments(I2);
                                                    document.getElementById("publicacionesDiv").style.visibility = 'visible';
                                                    $("#correoFoto").attr("value", correoPub);
                                                    var id = userdata.ID;
                                                    var name1 = userdata.nombreU;
                                                    var nomvec = name1.split(" ");
                                                    var type = userdata.type;
                                                    var contadorImagenes = userdata.contadorImagenes;
                                                    var url = userdata.url;
                                                    $("#key").attr("value", s.key);
                                                    if (userdata.descripcion === undefined) {
                                                        if (userdata.cuentaVerificada) {
                                                            id = userdata.ID;
                                                            key = s.key;
                                                            type = userdata.type;
                                                            correoI = userdata.correoI;
                                                            imagenProfile = userdata.profileIMG;
                                                            nombreU = userdata.nombreU;
                                                            $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');
                                                            $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 8px'></p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' data-touch='true' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                        } else {
                                                            id = userdata.ID;
                                                            key = s.key;
                                                            type = userdata.type;
                                                            correoI = userdata.correoI;
                                                            imagenProfile = userdata.profileIMG;
                                                            nombreU = userdata.nombreU;
                                                            $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                            $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' data-touch='true' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                        }                                                  
                                                    } else if (userdata.descripcion) {
                                                        if (userdata.cuentaVerificada) {
                                                            id = userdata.ID;
                                                            key = s.key;
                                                            type = userdata.type;
                                                            correoI = userdata.correoI;
                                                            imagenProfile = userdata.profileIMG;
                                                            nombreU = userdata.nombreU;
                                                            $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                            $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 8px'></p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' data-touch='true' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
<div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                       <p style='height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-family:'Comic Sans MS', cursive;font-size: 16px;' >\n\
" + userdata.descripcion + "</p>\n\
                                                   </div>\n\
<div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                        } else {
                                                            id = userdata.ID;
                                                            key = s.key;
                                                            type = userdata.type;
                                                            correoI = userdata.correoI;
                                                            imagenProfile = userdata.profileIMG;
                                                            nombreU = userdata.nombreU;
                                                            $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                            $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' data-touch='true' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
<div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                       <p style='height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-family:'Comic Sans MS', cursive;font-size: 16px;' >\n\
" + userdata.descripcion + "</p>\n\
                                                   </div>\n\
<div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                        }

                                                    }
                                                    if (contadorImagenes === "1") {
                                                        typeS = userdata.type;
                                                        if (typeS === "image/jpeg"
                                                                || typeS === "image/gif"
                                                                || typeS === "image/png"
                                                                || typeS === "image/bmp") {
                                                            document.getElementById('carrusel' + id).innerHTML = '';
                                                            $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div> <img src='" + userdata.url + "' ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'><img id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'> </div></div>");

                                                        } else if (typeS === "video/mp4"
                                                                || typeS === "video/avi"
                                                                || typeS === "video/wmv"
                                                                || typeS === "video/wma"
                                                                || typeS === "video/flv"
                                                                || typeS === "video/mkv"
                                                                || typeS === "video/mks") {
                                                            document.getElementById('carrusel' + id).innerHTML = '';
                                                            $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'> <video src='" + userdata.url + "' onclick=dobl('" + id + "')  class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'></div> </div>");

                                                        }
                                                        document.getElementById("iz" + id).style.visibility = "hidden";
                                                        document.getElementById("de" + id).style.visibility = "hidden";
                                                    } else if (contadorImagenes > 1) {
                                                        var separador = "-";
                                                        limite = contadorImagenes;
                                                        arregloDeSubCadenas = type.split(separador, limite);
                                                        var separadorUrl = "*";
                                                        limiteUrl = contadorImagenes;
                                                        arregloDeSubCadenasUrl = url.split(separadorUrl, limiteUrl);
                                                        document.getElementById('carrusel' + id).innerHTML = '';
                                                    }

                                                    for (var cI = 0; cI < contadorImagenes; cI++) {
                                                        if (contadorImagenes > 1) {
                                                            if (cI === 0) {
                                                                if (arregloDeSubCadenas[cI] === "video/mp4"
                                                                        || arregloDeSubCadenas[cI] === "video/avi"
                                                                        || arregloDeSubCadenas[cI] === "video/wmv"
                                                                        || arregloDeSubCadenas[cI] === "video/wma"
                                                                        || arregloDeSubCadenas[cI] === "video/flv"
                                                                        || arregloDeSubCadenas[cI] === "video/mkv"
                                                                        || arregloDeSubCadenas[cI] === "video/mks") {
                                                                    $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> <video src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "')  class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;center-block;'> </div></div>");
                                                                } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                                        || arregloDeSubCadenas[cI] === "image/gif"
                                                                        || arregloDeSubCadenas[cI] === "image/png"
                                                                        || arregloDeSubCadenas[cI] === "image/bmp") {
                                                                    $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div> <img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "')  class='responsive' data-num='pricipal' style='height:auto;width: 100%;center-block;'><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> </div></div>");
                                                                }
                                                            } else if (cI > 0) {
                                                                if (arregloDeSubCadenas[cI] === "video/mp4"
                                                                        || arregloDeSubCadenas[cI] === "video/avi"
                                                                        || arregloDeSubCadenas[cI] === "video/wmv"
                                                                        || arregloDeSubCadenas[cI] === "video/wma"
                                                                        || arregloDeSubCadenas[cI] === "video/flv"
                                                                        || arregloDeSubCadenas[cI] === "video/mkv"
                                                                        || arregloDeSubCadenas[cI] === "video/mks") {
                                                                    $("#carrusel" + id).append("<div class='item'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> <video src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "')  class='responsive' data-num='pricipal' controls='true' style='height:auto;width:100%;center-block;'></div> </div>");
                                                                } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                                        || arregloDeSubCadenas[cI] === "image/gif"
                                                                        || arregloDeSubCadenas[cI] === "image/png"
                                                                        || arregloDeSubCadenas[cI] === "image/bmp") {
                                                                    $("#carrusel" + id).append("<div class='item'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "')  class='responsive' data-num='pricipal' style='height:auto;width:100%;center-block;'><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'></div> </div>");
                                                                }
                                                            }
                                                        }


                                                    }
                                                }

                                            }
                                            if (correoPub === correo) {
                                                document.getElementById("publicacionesDiv").style.visibility = 'visible';
                                                $("#correoFoto").attr("value", correoPub);
                                                var id = userdata.ID;
                                                getComments(I2);
                                                var name1 = userdata.nombreU;
                                                var nomvec = name1.split(" ");
                                                var type = userdata.type;
                                                var contadorImagenes = userdata.contadorImagenes;
                                                var url = userdata.url;
                                                $("#key").attr("value", s.key);
                                                if (userdata.descripcion === undefined) {
                                                    if (userdata.cuentaVerificada) {
                                                        id = userdata.ID;
                                                        key = s.key;
                                                        type = userdata.type;
                                                        correoI = userdata.correoI;
                                                        imagenProfile = userdata.profileIMG;
                                                        nombreU = userdata.nombreU;
                                                        $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                        $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 8px'></p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' data-touch='true' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                    } else {
                                                        id = userdata.ID;
                                                        key = s.key;
                                                        type = userdata.type;
                                                        correoI = userdata.correoI;
                                                        imagenProfile = userdata.profileIMG;
                                                        nombreU = userdata.nombreU;
                                                        $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                        $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "'  data-touch='true' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                    }
                                                } else if (userdata.descripcion) {
                                                    if (userdata.cuentaVerificada) {
                                                        id = userdata.ID;
                                                        key = s.key;
                                                        type = userdata.type;
                                                        correoI = userdata.correoI;
                                                        imagenProfile = userdata.profileIMG;
                                                        nombreU = userdata.nombreU;
                                                        $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                        $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 8px'></p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' data-touch='true' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                       <p style='height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-family:'Comic Sans MS', cursive;font-size: 16px;' >\n\
" + userdata.descripcion + "</p>\n\
                                                   </div>\n\
<div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                    } else {
                                                        id = userdata.ID;
                                                        key = s.key;
                                                        type = userdata.type;
                                                        correoI = userdata.correoI;
                                                        imagenProfile = userdata.profileIMG;
                                                        nombreU = userdata.nombreU;
                                                        $("#cajaValoresInput").append('\\n\
                                                       <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                       <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                       <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                       <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                       <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                        $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' class='carousel slide container' data-ride='carousel' data-interval='false' data-touch='true' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                       <p style='height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-family:'Comic Sans MS', cursive;font-size: 16px;' >\n\
" + userdata.descripcion + "</p>\n\
                                                   </div>\n\
<div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                    }
                                                }
                                                if (contadorImagenes === "1") {
                                                    typeS = userdata.type;
                                                    if (typeS === "image/jpeg"
                                                            || typeS === "image/gif"
                                                            || typeS === "image/png"
                                                            || typeS === "image/bmp") {
                                                        document.getElementById('carrusel' + id).innerHTML = '';
                                                        $("#carrusel" + id).append("<div class='item active'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + userdata.url + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'><img id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'> </div></div>");

                                                    } else if (typeS === "video/mp4"
                                                            || typeS === "video/avi"
                                                            || typeS === "video/wmv"
                                                            || typeS === "video/wma"
                                                            || typeS === "video/flv"
                                                            || typeS === "video/mkv"
                                                            || typeS === "video/mks") {
                                                        document.getElementById('carrusel' + id).innerHTML = '';
                                                        $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'> <video src='" + userdata.url + "' onclick=dobl('" + id + "')  class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'></div> </div>");

                                                    }
                                                    document.getElementById("iz" + id).style.visibility = "hidden";
                                                    document.getElementById("de" + id).style.visibility = "hidden";
                                                } else if (contadorImagenes > 1) {
                                                    var separador = "-";
                                                    limite = contadorImagenes;
                                                    arregloDeSubCadenas = type.split(separador, limite);
                                                    var separadorUrl = "*";
                                                    limiteUrl = contadorImagenes;
                                                    arregloDeSubCadenasUrl = url.split(separadorUrl, limiteUrl);
                                                    document.getElementById('carrusel' + id).innerHTML = '';
                                                }

                                                for (var cI = 0; cI < contadorImagenes; cI++) {
                                                    if (contadorImagenes > 1) {
                                                        if (cI === 0) {
                                                            if (arregloDeSubCadenas[cI] === "video/mp4"
                                                                    || arregloDeSubCadenas[cI] === "video/avi"
                                                                    || arregloDeSubCadenas[cI] === "video/wmv"
                                                                    || arregloDeSubCadenas[cI] === "video/wma"
                                                                    || arregloDeSubCadenas[cI] === "video/flv"
                                                                    || arregloDeSubCadenas[cI] === "video/mkv"
                                                                    || arregloDeSubCadenas[cI] === "video/mks") {
                                                                $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> <video src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "')  class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;center-block;'> </div></div>");
                                                            } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                                    || arregloDeSubCadenas[cI] === "image/gif"
                                                                    || arregloDeSubCadenas[cI] === "image/png"
                                                                    || arregloDeSubCadenas[cI] === "image/bmp") {
                                                                $("#carrusel" + id).append("<div class='item active'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width: 100%;center-block;'><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'></div> </div>");
                                                            }
                                                        } else if (cI > 0) {
                                                            if (arregloDeSubCadenas[cI] === "video/mp4"
                                                                    || arregloDeSubCadenas[cI] === "video/avi"
                                                                    || arregloDeSubCadenas[cI] === "video/wmv"
                                                                    || arregloDeSubCadenas[cI] === "video/wma"
                                                                    || arregloDeSubCadenas[cI] === "video/flv"
                                                                    || arregloDeSubCadenas[cI] === "video/mkv"
                                                                    || arregloDeSubCadenas[cI] === "video/mks") {
                                                                $("#carrusel" + id).append("<div class='item'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'><video src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width:100%;center-block;'> </div></div>");
                                                            } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                                    || arregloDeSubCadenas[cI] === "image/gif"
                                                                    || arregloDeSubCadenas[cI] === "image/png"
                                                                    || arregloDeSubCadenas[cI] === "image/bmp") {
                                                                $("#carrusel" + id).append("<div class='item'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div> <img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width:100%;center-block;'><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> </div></div>");
                                                            }
                                                        }
                                                    }


                                                }
                                            } else {
                                                if (mode === "public" && correoPub !== correo) {
                                                    document.getElementById("publicacionesDiv").style.visibility = 'visible';
                                                    document.getElementById("div2").innerHTML = '<div class="container justify-content-center" style="text-align:center;"><h2 style="color:white;font-family:"Comic Sans MS", cursive;text-align:center;margin-bottom;15px">Suscribete para comentar o ver los comentarios</h2></div>';
                                                    $("#correoFoto").attr("value", correoPub);
                                                    var id = userdata.ID;
                                                    var name1 = userdata.nombreU;
                                                    var nomvec = name1.split(" ");
                                                    var type = userdata.type;
                                                    var contadorImagenes = userdata.contadorImagenes;
                                                    var url = userdata.url;
                                                    $("#key").attr("value", s.key);
                                                    if (userdata.descripcion === undefined) {
                                                        if (userdata.cuentaVerificada) {
                                                            id = userdata.ID;
                                                            key = s.key;
                                                            type = userdata.type;
                                                            correoI = userdata.correoI;
                                                            imagenProfile = userdata.profileIMG;
                                                            nombreU = userdata.nombreU;
                                                            $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                            $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 8px'></p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' class='carousel slide container' data-touch='true' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                        } else {
                                                            id = userdata.ID;
                                                            key = s.key;
                                                            type = userdata.type;
                                                            correoI = userdata.correoI;
                                                            imagenProfile = userdata.profileIMG;
                                                            nombreU = userdata.nombreU;
                                                            $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                            $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' class='carousel slide container' data-touch='true' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                        }
                                                    } else if (userdata.descripcion) {
                                                        if (userdata.cuentaVerificada) {
                                                            id = userdata.ID;
                                                            key = s.key;
                                                            type = userdata.type;
                                                            correoI = userdata.correoI;
                                                            imagenProfile = userdata.profileIMG;
                                                            nombreU = userdata.nombreU;
                                                            $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                            $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 8px'></p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' class='carousel slide container' data-touch='true' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                       <p style='height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-family:'Comic Sans MS', cursive;font-size: 16px;' >\n\
" + userdata.descripcion + "</p>\n\
                                                   </div>\n\
<div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                        } else {
                                                            id = userdata.ID;
                                                            key = s.key;
                                                            type = userdata.type;
                                                            correoI = userdata.correoI;
                                                            imagenProfile = userdata.profileIMG;
                                                            nombreU = userdata.nombreU;
                                                            $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                            $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' class='carousel slide container' data-touch='true' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                       <p style='height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-family:'Comic Sans MS', cursive;font-size: 16px;' >\n\
" + userdata.descripcion + "</p>\n\
                                                   </div>\n\
<div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                        }
                                                    }
                                                    if (contadorImagenes === "1") {
                                                        typeS = userdata.type;
                                                        if (typeS === "image/jpeg"
                                                                || typeS === "image/gif"
                                                                || typeS === "image/png"
                                                                || typeS === "image/bmp") {
                                                            document.getElementById('carrusel' + id).innerHTML = '';
                                                            $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div> <img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + userdata.url + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'> <img id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'></div></div>");

                                                        } else if (typeS === "video/mp4"
                                                                || typeS === "video/avi"
                                                                || typeS === "video/wmv"
                                                                || typeS === "video/wma"
                                                                || typeS === "video/flv"
                                                                || typeS === "video/mkv"
                                                                || typeS === "video/mks") {
                                                            document.getElementById('carrusel' + id).innerHTML = '';
                                                            $("#carrusel" + id).append("<div class='item active'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'><video src='" + userdata.url + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'></div> </div>");

                                                        }
                                                        document.getElementById("iz" + id).style.visibility = "hidden";
                                                        document.getElementById("de" + id).style.visibility = "hidden";
                                                    } else if (contadorImagenes > 1) {
                                                        var separador = "-";
                                                        limite = contadorImagenes;
                                                        arregloDeSubCadenas = type.split(separador, limite);
                                                        var separadorUrl = "*";
                                                        limiteUrl = contadorImagenes;
                                                        arregloDeSubCadenasUrl = url.split(separadorUrl, limiteUrl);
                                                        document.getElementById('carrusel' + id).innerHTML = '';
                                                    }

                                                    for (var cI = 0; cI < contadorImagenes; cI++) {
                                                        if (contadorImagenes > 1) {
                                                            if (cI === 0) {
                                                                if (arregloDeSubCadenas[cI] === "video/mp4"
                                                                        || arregloDeSubCadenas[cI] === "video/avi"
                                                                        || arregloDeSubCadenas[cI] === "video/wmv"
                                                                        || arregloDeSubCadenas[cI] === "video/wma"
                                                                        || arregloDeSubCadenas[cI] === "video/flv"
                                                                        || arregloDeSubCadenas[cI] === "video/mkv"
                                                                        || arregloDeSubCadenas[cI] === "video/mks") {
                                                                    $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> <video src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;center-block;'> </div></div>");
                                                                } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                                        || arregloDeSubCadenas[cI] === "image/gif"
                                                                        || arregloDeSubCadenas[cI] === "image/png"
                                                                        || arregloDeSubCadenas[cI] === "image/bmp") {
                                                                    $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div> <img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width: 100%;center-block;'><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> </div></div>");
                                                                }
                                                            } else if (cI > 0) {
                                                                if (arregloDeSubCadenas[cI] === "video/mp4"
                                                                        || arregloDeSubCadenas[cI] === "video/avi"
                                                                        || arregloDeSubCadenas[cI] === "video/wmv"
                                                                        || arregloDeSubCadenas[cI] === "video/wma"
                                                                        || arregloDeSubCadenas[cI] === "video/flv"
                                                                        || arregloDeSubCadenas[cI] === "video/mkv"
                                                                        || arregloDeSubCadenas[cI] === "video/mks") {
                                                                    $("#carrusel" + id).append("<div class='item'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div> <img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'><video src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width:100%;center-block;'></div> </div>");
                                                                } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                                        || arregloDeSubCadenas[cI] === "image/gif"
                                                                        || arregloDeSubCadenas[cI] === "image/png"
                                                                        || arregloDeSubCadenas[cI] === "image/bmp") {
                                                                    $("#carrusel" + id).append("<div class='item'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div> <img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width:100%;center-block;'><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'></div> </div>");
                                                                }
                                                            }
                                                        }


                                                    }
                                                }
                                            }
                                        } else
                                        if (mode === "public" && correoPub !== correo) {
                                            document.getElementById("publicacionesDiv").style.visibility = 'visible';
                                            document.getElementById("div2").innerHTML = '<div class="container justify-content-center" style="text-align:center;"><h2 style="color:white;font-family:"Comic Sans MS", cursive;text-align:center;margin-bottom;15px">Suscribete para comentar o ver los comentarios</h2></div>';
                                            $("#correoFoto").attr("value", correoPub);
                                            var id = userdata.ID;
                                            var name1 = userdata.nombreU;
                                            var nomvec = name1.split(" ");
                                            var type = userdata.type;
                                            var contadorImagenes = userdata.contadorImagenes;
                                            var url = userdata.url;
                                            $("#key").attr("value", s.key);
                                            if (userdata.descripcion === undefined) {
                                                if (userdata.cuentaVerificada) {
                                                    id = userdata.ID;
                                                    key = s.key;
                                                    type = userdata.type;
                                                    correoI = userdata.correoI;
                                                    imagenProfile = userdata.profileIMG;
                                                    nombreU = userdata.nombreU;
                                                    $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                    $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 8px'></p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' class='carousel slide container' data-touch='true' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                } else {
                                                    id = userdata.ID;
                                                    key = s.key;
                                                    type = userdata.type;
                                                    correoI = userdata.correoI;
                                                    imagenProfile = userdata.profileIMG;
                                                    nombreU = userdata.nombreU;
                                                    $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                    $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' class='carousel slide container' data-touch='true' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                }
                                            } else if (userdata.descripcion) {
                                                if (userdata.cuentaVerificada) {
                                                    id = userdata.ID;
                                                    key = s.key;
                                                    type = userdata.type;
                                                    correoI = userdata.correoI;
                                                    imagenProfile = userdata.profileIMG;
                                                    nombreU = userdata.nombreU;
                                                    $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                    $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 8px'></p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' class='carousel slide container' data-touch='true' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                       <p style='height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-family:'Comic Sans MS', cursive;font-size: 16px;' >\n\
" + userdata.descripcion + "</p>\n\
                                                   </div>\n\
<div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                } else {
                                                    id = userdata.ID;
                                                    key = s.key;
                                                    type = userdata.type;
                                                    correoI = userdata.correoI;
                                                    imagenProfile = userdata.profileIMG;
                                                    nombreU = userdata.nombreU;
                                                    $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                    $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' class='carousel slide container' data-touch='true' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                       <p style='height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-family:'Comic Sans MS', cursive;font-size: 16px;' >\n\
" + userdata.descripcion + "</p>\n\
                                                   </div>\n\
<div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                }
                                            }
                                            if (contadorImagenes === "1") {
                                                typeS = userdata.type;
                                                if (typeS === "image/jpeg"
                                                        || typeS === "image/gif"
                                                        || typeS === "image/png"
                                                        || typeS === "image/bmp") {
                                                    document.getElementById('carrusel' + id).innerHTML = '';
                                                    $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div> <img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + userdata.url + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'> <img id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'></div></div>");

                                                } else if (typeS === "video/mp4"
                                                        || typeS === "video/avi"
                                                        || typeS === "video/wmv"
                                                        || typeS === "video/wma"
                                                        || typeS === "video/flv"
                                                        || typeS === "video/mkv"
                                                        || typeS === "video/mks") {
                                                    document.getElementById('carrusel' + id).innerHTML = '';
                                                    $("#carrusel" + id).append("<div class='item active'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'><video src='" + userdata.url + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'></div> </div>");

                                                }
                                                document.getElementById("iz" + id).style.visibility = "hidden";
                                                document.getElementById("de" + id).style.visibility = "hidden";
                                            } else if (contadorImagenes > 1) {
                                                var separador = "-";
                                                limite = contadorImagenes;
                                                arregloDeSubCadenas = type.split(separador, limite);
                                                var separadorUrl = "*";
                                                limiteUrl = contadorImagenes;
                                                arregloDeSubCadenasUrl = url.split(separadorUrl, limiteUrl);
                                                document.getElementById('carrusel' + id).innerHTML = '';
                                            }

                                            for (var cI = 0; cI < contadorImagenes; cI++) {
                                                if (contadorImagenes > 1) {
                                                    if (cI === 0) {
                                                        if (arregloDeSubCadenas[cI] === "video/mp4"
                                                                || arregloDeSubCadenas[cI] === "video/avi"
                                                                || arregloDeSubCadenas[cI] === "video/wmv"
                                                                || arregloDeSubCadenas[cI] === "video/wma"
                                                                || arregloDeSubCadenas[cI] === "video/flv"
                                                                || arregloDeSubCadenas[cI] === "video/mkv"
                                                                || arregloDeSubCadenas[cI] === "video/mks") {
                                                            $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> <video src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;center-block;'> </div></div>");
                                                        } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                                || arregloDeSubCadenas[cI] === "image/gif"
                                                                || arregloDeSubCadenas[cI] === "image/png"
                                                                || arregloDeSubCadenas[cI] === "image/bmp") {
                                                            $("#carrusel" + id).append("<div class='item active'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div> <img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width: 100%;center-block;'><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> </div></div>");
                                                        }
                                                    } else if (cI > 0) {
                                                        if (arregloDeSubCadenas[cI] === "video/mp4"
                                                                || arregloDeSubCadenas[cI] === "video/avi"
                                                                || arregloDeSubCadenas[cI] === "video/wmv"
                                                                || arregloDeSubCadenas[cI] === "video/wma"
                                                                || arregloDeSubCadenas[cI] === "video/flv"
                                                                || arregloDeSubCadenas[cI] === "video/mkv"
                                                                || arregloDeSubCadenas[cI] === "video/mks") {
                                                            $("#carrusel" + id).append("<div class='item'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div> <img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'><video src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width:100%;center-block;'></div> </div>");
                                                        } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                                || arregloDeSubCadenas[cI] === "image/gif"
                                                                || arregloDeSubCadenas[cI] === "image/png"
                                                                || arregloDeSubCadenas[cI] === "image/bmp") {
                                                            $("#carrusel" + id).append("<div class='item'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div> <img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width:100%;center-block;'><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'></div> </div>");
                                                        }
                                                    }
                                                }


                                            }
                                        } else if (correoPub === correo || correoPub === "0011100111011001110010011111100101101101000111010100100100111001011110011111100101111001001110011101100100011101111110011001100110011001011010011010100101101001001010010101100100001000101110010111100100101001011010010101100111010001101010011111100101111001") {
                                            getComments(I2);
                                            document.getElementById("publicacionesDiv").style.visibility = 'visible';
                                            $("#correoFoto").attr("value", correoPub);
                                            var id = userdata.ID;

                                            var name1 = userdata.nombreU;
                                            var nomvec = name1.split(" ");
                                            var type = userdata.type;
                                            var contadorImagenes = userdata.contadorImagenes;
                                            var url = userdata.url;
                                            $("#key").attr("value", s.key);
                                            if (userdata.descripcion === undefined) {
                                                if (userdata.cuentaVerificada) {
                                                    id = userdata.ID;
                                                    key = s.key;
                                                    type = userdata.type;
                                                    correoI = userdata.correoI;
                                                    imagenProfile = userdata.profileIMG;
                                                    nombreU = userdata.nombreU;
                                                    $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                    $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 8px'></p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' class='carousel slide container'  data-touch='true' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                } else {
                                                    id = userdata.ID;
                                                    key = s.key;
                                                    type = userdata.type;
                                                    correoI = userdata.correoI;
                                                    imagenProfile = userdata.profileIMG;
                                                    nombreU = userdata.nombreU;
                                                    $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                    $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' data-touch='true' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                }
                                            } else if (userdata.descripcion) {
                                                if (userdata.cuentaVerificada) {
                                                    id = userdata.ID;
                                                    key = s.key;
                                                    type = userdata.type;
                                                    correoI = userdata.correoI;
                                                    imagenProfile = userdata.profileIMG;
                                                    nombreU = userdata.nombreU;
                                                    $("#cajaValoresInput").append('\\n\
                                                           <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                           <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                           <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                           <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                           <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                    $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "<img src='img/checkedBlue.png' style='width: 25px;height: 25px;margin-left: 8px'></p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' data-touch='true' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                       <p style='height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-family:'Comic Sans MS', cursive;font-size: 16px;' >\n\
" + userdata.descripcion + "</p>\n\
                                                   </div>\n\
<div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                } else {
                                                    id = userdata.ID;
                                                    key = s.key;
                                                    type = userdata.type;
                                                    correoI = userdata.correoI;
                                                    imagenProfile = userdata.profileIMG;
                                                    nombreU = userdata.nombreU;
                                                    $("#cajaValoresInput").append('\\n\
                                                   <input type="text" style="display: none" id="imagenProfileInput_' + id + '" value="' + imagenProfile + '"> \n\
                                                   <input type="text" style="display: none" id="correoInput_' + id + '" value="' + correo + '"> \n\
                                                   <input type="text" style="display: none" id="keyInput_' + id + '" value="' + key + '"> \n\
                                                   <input type="text" style="display: none" id="typeInput_' + id + '" value="' + type + '"> \n\
                                                   <input type="text" style="display: none" id="correoIMGInput_' + id + '" value="' + correoI + '">');

                                                    $("#publi").append("\n\
               <div class='justify-content-center container p-0' style='margin-top: 2px;margin-bottom: 7px;border-radius: 20px;background-color: #212529;text-align: center;box-shadow: 3px 3px 5px black;padding-bottom: 5px'>\n\
<div style='float:right;padding-right:5%;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + key + "','p')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar esta publicaión</a>\n\
                </div>\n\
</div>                    \n\
<div class='text-light text-left' style='padding-left:5%;padding-top: 1.5%'><p class='cursive' onclick=profileIr('" + nombreU + "') style='margin-bottom:4px;color:white;font-size: 18px;'><img style='width: 43px;height: 43px;border-radius: 180px;object-fit:cover' src='" + imagenProfile + "'>   " + nombreU + "</p></div>\n\
                   <hr style='margin-top: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div style='height: auto;' class='text-center'>\n\
                       <div id='myCarousel" + id + "' data-touch='true' class='carousel slide container' data-ride='carousel' data-interval='false' style='padding:0px'>\n\
                           <div class='carousel-inner container p-0' id='carrusel" + id + "'> \n\
                               <div class='item active' style='text-align: center'> \n\
                                   <img src='img/a.jpg'  class='img-responsive'> \n\
                               </div> \n\
                           </div> \n\
                           <div class='container'>\n\
                               <a class='carousel-control-prev' href='#myCarousel" + id + "' role='button' data-slide='prev' style='height: 80%'> \n\
                                   <span class='carousel-control-prev-icon' aria-hidden='true' id='iz" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Previous</span> \n\
                               </a> \n\
                           </div>\n\
                           <div class='container'>\n\
                               <a class='carousel-control-next' href='#myCarousel" + id + "' role='button' data-slide='next' style='height: 80%;width:8%;margin-right:10%'>\n\
                                   <span class='carousel-control-next-icon' aria-hidden='true' id='de" + id + "' style='visibility: visible'></span> \n\
                                   <span class='sr-only'>Next</span> \n\
                               </a> \n\
                           </div>\n\
                       </div> \n\
                   </div>\n\
                   <hr style='margin-top:8px;margin-bottom: 3px;height: 2px;margin-left: 2%;margin-right: 2%;background-color: white;border: 0;background:linear-gradient(30deg, #1c4c9c, #FDFDFD,#1c4c9c);'>\n\
                   <div class='scrol scrol-thumb text-light text-left mt-1 mb-1' style='padding-left: 3%;width:auto; height:40px; overflow-y: scroll;padding-top:3px'>\n\
                                                       <p class='cursive' style='height: auto;width:98%;float: left;word-wrap: break-word;color:white;font-size: 16px;' >\n\
" + userdata.descripcion + "</p>\n\
                                                   </div>\n\
<div class='actions text-light text-left' style='padding-left: 2%'>\n\
                       <div class='heart' name='' id='" + id + "' onclick=like('" + id + "') style='aling.items:center'></div>\n\
                       <div class='comment'></div>\n\
                       <div data-title='+1' class='diamond' id='d_" + id + "' onclick=diamante('" + id + "') style='aling.items:center'></div>\n\
                   </div>\n\
                   <div class='container' style='margin-left:2%;width:142px'>\n\
                       <div class='row'>\n\
                           <div id='corazon_" + id + "' name='' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorLikes_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.likes + "</h2></div>\n\
                           <div id='comentario_" + id + "' class='text-light' style='width:34%; text-align: center;'><h2 id='contadorComs_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.coms + "</h2></div>\n\
                           <div id='diamante_" + id + "' class='text-light' style='width:33%; text-align: center;'><h2 id='contadorDiams_" + id + "' style='margin-top:0px;margin-bottom:1px;height:100%;font-size:15px;font-weight: bold'>" + userdata.diamantes + "</h2></div>\n\
                       </div>\n\
                   </div>\n\
               </div>");
                                                }
                                            }
                                            if (contadorImagenes === "1") {
                                                typeS = userdata.type;
                                                if (typeS === "image/jpeg"
                                                        || typeS === "image/gif"
                                                        || typeS === "image/png"
                                                        || typeS === "image/bmp") {
                                                    document.getElementById('carrusel' + id).innerHTML = '';
                                                    $("#carrusel" + id).append("<div class='item active'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + userdata.url + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'> <img id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'></div></div>");

                                                } else if (typeS === "video/mp4"
                                                        || typeS === "video/avi"
                                                        || typeS === "video/wmv"
                                                        || typeS === "video/wma"
                                                        || typeS === "video/flv"
                                                        || typeS === "video/mkv"
                                                        || typeS === "video/mks") {
                                                    document.getElementById('carrusel' + id).innerHTML = '';
                                                    $("#carrusel" + id).append("<div class='item active'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') id='corazon_0_" + id + "' class='element' src='img/corazon_azul.png'><video src='" + userdata.url + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;display: block; margin-left: auto; margin-right: auto;'></div> </div>");

                                                }
                                                document.getElementById("iz" + id).style.visibility = "hidden";
                                                document.getElementById("de" + id).style.visibility = "hidden";
                                            } else if (contadorImagenes > 1) {
                                                var separador = "-";
                                                limite = contadorImagenes;
                                                arregloDeSubCadenas = type.split(separador, limite);
                                                var separadorUrl = "*";
                                                limiteUrl = contadorImagenes;
                                                arregloDeSubCadenasUrl = url.split(separadorUrl, limiteUrl);
                                                document.getElementById('carrusel' + id).innerHTML = '';
                                            }

                                            for (var cI = 0; cI < contadorImagenes; cI++) {
                                                if (contadorImagenes > 1) {
                                                    if (cI === 0) {
                                                        if (arregloDeSubCadenas[cI] === "video/mp4"
                                                                || arregloDeSubCadenas[cI] === "video/avi"
                                                                || arregloDeSubCadenas[cI] === "video/wmv"
                                                                || arregloDeSubCadenas[cI] === "video/wma"
                                                                || arregloDeSubCadenas[cI] === "video/flv"
                                                                || arregloDeSubCadenas[cI] === "video/mkv"
                                                                || arregloDeSubCadenas[cI] === "video/mks") {
                                                            $("#carrusel" + id).append("<div class='item active'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'><video src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width: 100%;center-block;'> </div></div>");
                                                        } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                                || arregloDeSubCadenas[cI] === "image/gif"
                                                                || arregloDeSubCadenas[cI] === "image/png"
                                                                || arregloDeSubCadenas[cI] === "image/bmp") {
                                                            $("#carrusel" + id).append("<div class='item active'> <div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width: 100%;center-block;'> <img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'></div></div>");
                                                        }
                                                    } else if (cI > 0) {
                                                        if (arregloDeSubCadenas[cI] === "video/mp4"
                                                                || arregloDeSubCadenas[cI] === "video/avi"
                                                                || arregloDeSubCadenas[cI] === "video/wmv"
                                                                || arregloDeSubCadenas[cI] === "video/wma"
                                                                || arregloDeSubCadenas[cI] === "video/flv"
                                                                || arregloDeSubCadenas[cI] === "video/mkv"
                                                                || arregloDeSubCadenas[cI] === "video/mks") {
                                                            $("#carrusel" + id).append("<div class='item'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'><img src='img/linkPage.png' style='opacity:.8;width:100%;height:50px;margin-bottom:50px'></div><img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> <video src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' controls='true' style='height:auto;width:100%;center-block;'></div> </div>");
                                                        } else if (arregloDeSubCadenas[cI] === "image/jpeg"
                                                                || arregloDeSubCadenas[cI] === "image/gif"
                                                                || arregloDeSubCadenas[cI] === "image/png"
                                                                || arregloDeSubCadenas[cI] === "image/bmp") {
                                                            $("#carrusel" + id).append("<div class='item'><div style='display:flex'><div style='position: absolute;text-align: center;bottom:0px;'></div> <img ontouchstart='handleTouchStart(event)' ontouchmove=handleTouchMove(event,'" + id + "') src='" + arregloDeSubCadenasUrl[cI] + "' onclick=dobl('" + id + "') class='responsive' data-num='pricipal' style='height:auto;width:100%;center-block;'><img id='corazon_" + cI + "_" + id + "' class='element' src='img/corazon_azul.png'> </div></div>");
                                                        }
                                                    }
                                                }


                                            }
                                        } else if (mode !== "public") {
                                            if (contSeg === 0 || contSeg === undefined) {
                                                document.getElementById("div2").innerHTML = '<div class="container justify-content-center" style="text-align:center;"><h2 class="cursive" style="color:white;text-align:center;margin-bottom;15px">Suscribete para comentar o ver los comentarios</h2></div>';
                                            }
                                        }

                                    });
                                });

                    });
                    function getComments(I2) {
                        var ref1 = firebase.database().ref("likes");
                        ref1.orderByChild("ID").equalTo(I2.toString()).on("child_added", function (s) {
                            var userdata = s.val();
                            comentario = userdata.comentario;
                            if (comentario) {
                                $("#com").append("<div id='caja_comentario' style='width: 100%;height:auto;margin-bottom:18px'>\n\
<div style='float:right;padding-right:5px;padding-top: 1.5%' class='dropdown text-light'>\n\
<button class='text-light btn' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' style='background-color: #212529;border-radius:200px;outline: none;'>\n\
<i class='fas fa-ellipsis-v text-light'></i>\n\
</button>\n\
<div class='dropdown-menu dropdown dropdown-menu-right' aria-labelledby='dropdownMenuButton' style='background-color: #212529'>\n\
<button class='dropdown-item text-light' onclick=reporte('" + s.key + "','c')  ><i class='fas fa-flag text-light' style='margin-right:3px;border-radius:200px'></i>Reportar este comentario</a>\n\
                </div>\n\
</div>\n\
<div class='container-fluid'>\n\
                           <div class='row' style='display: flex; align-items: center;'>\n\
                               <div style='margin-right: 10px;margin-left: 2px;margin-top: 1px;width: 65px;height: 100%;left:0px'>\n\
                                   <img id ='imgComment' style='width: 100%;height: 65px;border-radius: 800px;object-fit:cover;' src='" + userdata.url + "' class='mt-1 img_circular'>\n\
                               </div>\n\
                               <div class='col p-0'>\n\
                                   <div id='nombre_usuario' class='cursive'><h4 class='cursive' style='color:white;font-size:20px;font-family: Comic Sans MS;'>" + userdata.nombreU + "</h4></div>\n\
                                       <div class='scrol scrol-thumb cuadro_comentario comic'\n\
                                            style='border-radius: 20px;border-style: solid;\n\
                                            width:100%; height:80px; overflow-y: scroll;'>\n\
                                            <h4 class='cursive' style='height: auto;width:97%;float: left;word-wrap: break-word;margin: 5px auto;color:white;margin-left:5px;margin-right: 0px'>\n\
                                                " + userdata.comentario + "\n\
                                            </h4>\n\
                                       </div>\n\
                                   </div>\n\
                               </div>\n\
                           </div>\n\
</div>");
                                var comentarioGet = userdata.comentario;
                            }
                        });


                    }

















                } else {
                    location.replace("index.html");
                }
            });
            firebase.database().ref("Imagenes/").on("child_changed", function (snapshot) {
                var changedPost = snapshot.val();
                if (changedPost.ID === I2) {
                    divCom = document.getElementById("comentario_" + changedPost.ID);
                    divCom.removeChild(divCom.lastChild);
                    divLike = document.getElementById("corazon_" + changedPost.ID);
                    divLike.removeChild(divLike.lastChild);
                    divDia = document.getElementById("diamante_" + changedPost.ID);
                    divDia.removeChild(divDia.lastChild);
                    $("#comentario_" + changedPost.ID).append("<h2 id='contadorLikes_" + changedPost.ID + "' style='margin-bottom:0px;height:100%;font-size:15px;font-weight: bold;margin-top:0px'>" + changedPost.coms + "</h2>");
                    $("#corazon_" + changedPost.ID).append("<h2 id='contadorLikes_" + changedPost.ID + "' style='margin-bottom:0px;height:100%;font-size:15px;font-weight: bold;margin-top:0px'>" + changedPost.likes + "</h2>");
                    $("#diamante_" + changedPost.ID).append("<h2 id='contadorLikes_" + changedPost.ID + "' style='margin-bottom:0px;height:100%;font-size:15px;font-weight: bold;margin-top:0px'>" + changedPost.diamantes + "</h2>");
                } else {
                }
            });
            firebase.database().ref("likes/").on("child_removed", function (snapshot) {

                var changedPost = snapshot.val();
                if (changedPost.ID === I2) {
                    if (changedPost.clas) {
                        document.getElementById(changedPost.ID).className = "heart";
                    }
                } else {
                }
            });
            auth.onAuthStateChanged(function (user) {
                var mail = user.email;
                var encripta = cifrar(mail.toString());
                var correo = encripta.palabraEncriptada;
                function compL() {
                    firebase.database().ref("likes")
                            .on("child_added", function (s) {
                                userdata = s.val();
                                var clase = userdata.clas;
                                if (correo === userdata.correo) {
                                    if (userdata.ID === I2.toString()) {
                                        if (userdata.clas) {
                                            if (clase === "heart heart_animate") {
                                                document.getElementById(userdata.ID).className = "heart heart_animate";
                                                clearInterval(timer);
                                                var id = userdata.ID.toString();
                                                $("#" + id).attr("name", s.key);
                                                var element = document.getElementById("loader");
                                                element.style.display = '';
                                                element.classList.remove("loader");
                                            } else {
                                                clearInterval(timer);
                                                document.getElementById(userdata.ID).className = "heart";
                                                var element = document.getElementById("loader");
                                                element.style.display = '';
                                                element.classList.remove("loader");
                                            }
                                        }
                                    } else {
                                        clearInterval(timer);
                                        var element = document.getElementById("loader");
                                        element.style.display = '';
                                        element.classList.remove("loader");
                                    }

                                } else
                                if (userdata.correo !== correo) {
                                    clearInterval(timer);
                                    var element = document.getElementById("loader");
                                    element.style.display = '';
                                    element.classList.remove("loader");
                                }

                            });
                }
                function compD() {
                    firebase.database().ref("diamantes")
                            .on("child_added", function (s) {
                                userdata = s.val();
                                var clase = userdata.clas;
                                if (correo === userdata.correo) {
                                    if ("diamond diamond_animate" === clase) {
                                        if (userdata.ID === I2) {
                                            document.getElementById("d_" + userdata.ID).className = "diamond diamond_animate";
                                            clearInterval(timerD);
                                            var element = document.getElementById("loader");
                                            element.style.display = '';
                                            element.classList.remove("loader");
                                        } else {
                                            clearInterval(timerD);
                                            var element = document.getElementById("loader");
                                            element.style.display = '';
                                            element.classList.remove("loader");
                                        }
                                    } else {
                                        clearInterval(timerD);
                                        document.getElementById("d_" + userdata.ID).className = "diamond";
                                        var element = document.getElementById("loader");
                                        element.style.display = '';
                                        element.classList.remove("loader");
                                    }
                                } else
                                if (userdata.correo !== correo) {
                                    clearInterval(timerD);
                                    var element = document.getElementById("loader");
                                    element.style.display = '';
                                    element.classList.remove("loader");
                                }
                            });
                }
                var timer = setInterval(compL, 1500);
                var timerD = setInterval(compD, 1300);
            });
            $("#send").click(function () {
                enviar();
            });
            function sumComs(i, k) {
                var ref = firebase.database().ref("Imagenes");
                ref.orderByChild("ID").equalTo(i).on("child_added", function (s) {
                    userdata = s.val();
                    comentarios = parseInt(userdata.coms);
                    comentariosA = comentarios + 1;
                    var newData = {
                        coms: comentariosA
                    };
                    var refTab = firebase.database().ref("Imagenes/").child(k);
                    refTab.update(newData);
                });
            }
            function enviar() {
                comentario = $("#comentUser").val();
                var filtroLetra2 = ["(", ")", "$", "°", "|", "[", "]", "<", ">", "¬"];
                if (comentario.includes(filtroLetra2[0])) {
                    document.getElementById("errorCaracter").innerHTML = '"(" no es un caracter valido';
                } else if (comentario.includes(filtroLetra2[1])) {
                    document.getElementById("errorCaracter").innerHTML = '")" no es un caracter valido';
                } else if (comentario.includes(filtroLetra2[2])) {
                    document.getElementById("errorCaracter").innerHTML = '"$" no es un caracter valido';
                } else if (comentario.includes(filtroLetra2[3])) {
                    document.getElementById("errorCaracter").innerHTML = '"°" no es un caracter valido';
                } else if (comentario.includes(filtroLetra2[4])) {
                    document.getElementById("errorCaracter").innerHTML = '"|" no es un caracter valido';
                } else if (comentario.includes(filtroLetra2[5])) {
                    document.getElementById("errorCaracter").innerHTML = '"[" no es un caracter valido';
                } else if (comentario.includes(filtroLetra2[6])) {
                    document.getElementById("errorCaracter").innerHTML = '"]" no es un caracter valido';
                } else if (comentario.includes(filtroLetra2[7])) {
                    document.getElementById("errorCaracter").innerHTML = '"<" no es un caracter valido';
                } else if (comentario.includes(filtroLetra2[8])) {
                    document.getElementById("errorCaracter").innerHTML = '">" no es un caracter valido';
                } else if (comentario.includes(filtroLetra2[9])) {
                    document.getElementById("errorCaracter").innerHTML = '"¬" no es un caracter valido';
                } else {
                    var validacion = /</;
                    var validacion2 = />/;
                    if (validacion.test(comentario)) {
                        document.getElementById("errorCaracter").innerHTML = '"<" no es un caracter valido';
                    } else {
                        if (validacion2.test(comentario)) {
                            document.getElementById("errorCaracter").innerHTML = '">" no es un caracter valido';
                        } else {
                            auth.onAuthStateChanged(function (user) {
                                if (user) {
                                    correoFoto = $("#correoFoto").val();
                                    fire.collection("IMAGENES").where("mail", "==", correoFoto)
                                            .get()
                                            .then(function (querySnapshot) {
                                                querySnapshot.forEach(function (doc) {
                                                    var publicacionesNumerica = doc.data();
                                                    numNot = publicacionesNumerica.contNot;
                                                    numrest = numNot - 1;
                                                    nombre = $("#nombre").val();
                                                    correo = $("#correo").val();
                                                    url = $("#url").val();

                                                    id = $("#iden").val();
                                                    key = $("#key").val();

                                                    var nuevoComentario = {
                                                        ID: id,
                                                        comentario: comentario,
                                                        correo: correo,
                                                        correoFoto: correoFoto,
                                                        nombreU: nombre,
                                                        url: url,
                                                        contNotificacion: numrest
                                                    };
                                                    firebase.database().ref("likes/").push(nuevoComentario).then(actualizaValor(numrest, correoFoto));
                                                    $("#publicacionesDiv").animate({scrollTop: $('#publicacionesDiv').prop("scrollHeight")}, "fast");
                                                    document.getElementById("comentUser").value = '';
                                                    sumComs(id, key);
                                                });
                                            });
                                }
                            });
                        }
                    }
                }
            }

            function profileIr(n) {
                if (nombreC === n.toString()) {
                    location.href = "profile.html";
                } else if (nombreC !== n.toString()) {
                    var stringUrl = n.toString();
                    var url = "profileUser.html";
                    url += "?";
                    nomVec = stringUrl.split(",");
                    url += nomVec;
                    location.href = url;
                }
            }

        </script>







        <script>
            var database = firebase.database();
            auth.onAuthStateChanged(function (user) {
                if (user) {
                    var mail = user.email;
                    var encripta = cifrar(mail.toString());
                    var correo = encripta.palabraEncriptada;
                    fire.collection("IMAGENES").where("mail", "==", correo)
                            .get()
                            .then(function (querySnapshot) {
                                querySnapshot.forEach(function (doc) {
                                    var publicaciones = doc.data();
                                    foto = publicaciones.foto;
                                    if (foto === "undefined" || foto === "" || foto === undefined) {

                                    } else {
                                        $("#imgprofile").attr("src", foto);
                                        $("#imgprofile1").attr("src", foto);
                                    }
                                    $("#url").attr('value', foto);
                                    $('#correo').attr('value', correo);
                                    $("#nombre").attr('value', publicaciones.nombre);
                                    nombreC = publicaciones.nombre;



                                });
                            })
                            .catch(function (error) {
                            });
                } else {

                }
            });
        </script>
        <script>

            function like(id) {
                var element = document.getElementById("loader");
                element.style.display = 'flex';
                element.classList.toggle("loader");
                correo = $("#correoInput_" + id + "").val();
                k = $("#keyInput_" + id + "").val();
                t = $("#typeInput_" + id + "").val();
                correoFoto = $("#correoIMGInput_" + id + "").val();
                auth.onAuthStateChanged(function (user) {
                    if (user) {
                        var currentItem = $("#carrusel" + id + " .item.active");
                        var currentIndex = parseInt($('#carrusel' + id + ' .item').index(currentItem));
                        var iden = "#corazon_" + currentIndex + "_" + id + "";
                        fire.collection("IMAGENES").where("mail", "==", correo)
                                .get()
                                .then(function (querySnapshot) {
                                    querySnapshot.forEach(function (doc) {
                                        var publicaciones = doc.data();
                                        var idRec = "corazon_" + id;
                                        var idP = "contadorLikes_" + id;
                                        divLike = document.getElementById(idRec.toString());
                                        divCont = document.getElementById(idP.toString());
                                        var corazon = document.getElementById(id);
                                        var clase = corazon.className;
                                        if (clase === "heart") {
                                            if ($(iden).hasClass("element")) {
                                                $(iden).attr("class", "element flip-scale-down-diag-2");
                                                setTimeout(mensaje, 300);
                                            }

                                            function mensaje() {
                                                $(iden).attr("class", "element flip-scale-down-diag-2 h");
                                            }
                                            fire.collection("IMAGENES").where("mail", "==", correoFoto)
                                                    .get()
                                                    .then(function (querySnapshot) {
                                                        querySnapshot.forEach(function (doc) {
                                                            var publicacionesNumerica = doc.data();
                                                            numNot = publicacionesNumerica.contNot;
                                                            numrest = numNot - 1;

                                                            url = publicaciones.foto;
                                                            var nombreR = publicaciones.nombre;
                                                            clase = "heart heart_animate";
                                                            if (url === "undefined") {
                                                                var like = {
                                                                    ID: id,
                                                                    correo: correo,
                                                                    correoFoto: correoFoto,
                                                                    nombreU: nombreR,
                                                                    clas: clase,
                                                                    contNotificacion: numrest
                                                                };
                                                                firebase.database().ref("likes/").push(like).then(actualizaValor(numrest, correoFoto));
                                                                document.getElementById(id).className = "heart heart_animate";
                                                                contLikes(id, k, t, correoFoto);
                                                            } else {
                                                                var like = {
                                                                    ID: id,
                                                                    correo: correo,
                                                                    correoFoto: correoFoto,
                                                                    nombreU: nombreR,
                                                                    url: url,
                                                                    clas: clase,
                                                                    contNotificacion: numrest
                                                                };
                                                                firebase.database().ref("likes/").push(like).then(actualizaValor(numrest, correoFoto));
                                                                document.getElementById(id).className = "heart heart_animate";
                                                                contLikes(id, k, t, correoFoto);
                                                            }
                                                        });
                                                    });
                                        } else
                                        if (clase === "heart heart_animate") {
                                            quitarLike(id);
                                            dcontLikes(id, k, t);
                                        }
                                    });
                                })
                                .catch(function (error) {
                                });
                    } else {

                    }
                });
            }
            function likeDT(id) {
                correo = $("#correoInput_" + id + "").val();
                k = $("#keyInput_" + id + "").val();
                t = $("#typeInput_" + id + "").val();
                correoFoto = $("#correoIMGInput_" + id + "").val();
                auth.onAuthStateChanged(function (user) {
                    if (user) {

                        var currentItem = $("#carrusel" + id + " .item.active");
                        var currentIndex = parseInt($('#carrusel' + id + ' .item').index(currentItem));
                        var iden = "#corazon_" + currentIndex + "_" + id + "";
                        fire.collection("IMAGENES").where("mail", "==", correo)
                                .get()
                                .then(function (querySnapshot) {
                                    querySnapshot.forEach(function (doc) {
                                        var publicaciones = doc.data();

                                        var idRec = "corazon_" + id;
                                        var idP = "contadorLikes_" + id;
                                        divLike = document.getElementById(idRec.toString());
                                        divCont = document.getElementById(idP.toString());
                                        var corazon = document.getElementById(id);
                                        var clase = corazon.className;
                                        if (clase === "heart") {
                                            if ($(iden).hasClass("element")) {
                                                $(iden).attr("class", "element flip-scale-down-diag-2");
                                                setTimeout(mensaje, 300);
                                            }
                                            function mensaje() {
                                                $(iden).attr("class", "element flip-scale-down-diag-2 h");
                                            }

                                            fire.collection("IMAGENES").where("mail", "==", correoFoto)
                                                    .get()
                                                    .then(function (querySnapshot) {
                                                        querySnapshot.forEach(function (doc) {
                                                            var publicacionesNumerica = doc.data();
                                                            numNot = publicacionesNumerica.contNot;
                                                            numrest = numNot - 1;

                                                            url = publicaciones.foto;
                                                            var nombreR = publicaciones.nombre;
                                                            clase = "heart heart_animate";
                                                            if (url === "undefined") {
                                                                var like = {
                                                                    ID: id,
                                                                    correo: correo,
                                                                    correoFoto: correoFoto,
                                                                    nombreU: nombreR,
                                                                    clas: clase,
                                                                    contNotificacion: numrest
                                                                };
                                                                firebase.database().ref("likes/").push(like).then(actualizaValor(numrest, correoFoto));
                                                                document.getElementById(id).className = "heart heart_animate";
                                                                contLikes(id, k, t, correoFoto);
                                                            } else {
                                                                var like = {
                                                                    ID: id,
                                                                    correo: correo,
                                                                    correoFoto: correoFoto,
                                                                    nombreU: nombreR,
                                                                    url: url,
                                                                    clas: clase,
                                                                    contNotificacion: numrest
                                                                };
                                                                firebase.database().ref("likes/").push(like).then(actualizaValor(numrest, correoFoto));
                                                                document.getElementById(id).className = "heart heart_animate";
                                                                contLikes(id, k, t, correoFoto);
                                                            }
                                                        });
                                                    });
                                        } else
                                        if (clase === "heart heart_animate") {
                                            var element = document.getElementById("loader");
                                            element.style.display = '';
                                            element.classList.remove("loader");
                                            if ($(iden).hasClass("element")) {
                                                $(iden).attr("class", "element flip-scale-down-diag-2");
                                                setTimeout(mensaje, 300);
                                            }
                                            function mensaje() {
                                                $(iden).attr("class", "element flip-scale-down-diag-2 h");
                                            }
                                        }
                                    });
                                })
                                .catch(function (error) {
                                });
                    } else {
                        location.replace("index.html");
                    }
                });
            }
            function quitarLike(id) {
                var key = $("#" + id).attr("name");
                firebase.database().ref("likes/").child(key).remove();
                document.getElementById(id).className = "heart";
            }
            function contLikes(i, k, t) {
                var ref = firebase.database().ref("Imagenes");
                ref.orderByChild("ID").equalTo(i).on("child_added", function (s) {
                    userdata = s.val();
                    likes = parseInt(userdata.likes);
                    likesAgregar = likes + 1;
                    var newData = {
                        likes: likesAgregar
                    };
                    refTab = firebase.database().ref("Imagenes/").child(k);
                    refTab.update(newData);
                });

            }
            function dcontLikes(i, k, t) {
                var ref = firebase.database().ref("Imagenes");
                ref.orderByChild("ID").equalTo(i).on("child_added", function (s) {
                    userdata = s.val();
                    likes = parseInt(userdata.likes);
                    likesDAgregar = likes - 1;
                    var newData = {
                        likes: likesDAgregar
                    };
                    var refTab = firebase.database().ref("Imagenes/").child(k);
                    refTab.update(newData).then(function () {
                        var element = document.getElementById("loader");
                        element.style.display = '';
                        element.classList.remove("loader");
                    });
                });
            }
            function diamante(ide) {
                var element = document.getElementById("loader");
                element.style.display = 'flex';
                element.classList.toggle("loader");
                Ucorreo = $("#correoInput_" + ide + "").val();
                urlU = $("#imagenProfileInput_" + ide + "").val();
                kU = $("#keyInput_" + ide + "").val();
                correoFoto = $("#correoIMGInput_" + ide + "").val();
                auth.onAuthStateChanged(function (user) {
                    if (user) {
                        var mail = user.email;
                        var encripta = cifrar(mail.toString());
                        var correo = encripta.palabraEncriptada;
                        fire.collection("IMAGENES").where("mail", "==", correo)
                                .get()
                                .then(function (querySnapshot) {
                                    querySnapshot.forEach(function (doc) {
                                        var publicaciones = doc.data();
                                        var idAnimacion = "d_" + ide;
                                        var diamantesBase = publicaciones.diamantes;
                                        if (diamantesBase) {
                                            docu = publicaciones.uid;
                                            var docRef = fire.collection('IMAGENES').doc(docu);
                                            var newdiamantes = diamantesBase - 1;
                                            var newData = {
                                                diamantes: newdiamantes
                                            };
                                            docRef.update(newData).then(function () {
                                                var diamante = document.getElementById(idAnimacion);

                                                var clase = diamante.className;
                                                if (clase === "diamond") {
                                                    urlP = publicaciones.foto;
                                                    diamante.className = "diamond diamond_animate";
                                                    var nombreR = publicaciones.nombre;
                                                    var claseAzul = "diamond diamond_animate";

                                                    var nDiamante = {
                                                        ID: ide,
                                                        correo: Ucorreo,
                                                        nombreU: nombreR,
                                                        url: urlU,
                                                        clas: claseAzul
                                                    };
                                                    firebase.database().ref("diamantes/").push(nDiamante);
                                                    contDiamantes(ide, kU, correoFoto, nombreR, urlP);

                                                } else
                                                if (clase === "diamond diamond_animate") {

                                                    urlP = publicaciones.foto;
                                                    var nombreR = publicaciones.nombre;
                                                    numNot = publicaciones.contNot;
                                                    numrest = numNot - 1;
                                                    contDiamantes(ide, kU, correoFoto, nombreR, urlP);
                                                }
                                            });

                                        } else if (diamantesBase === undefined || diamantesBase === 0) {
                                            var element = document.getElementById("loader");
                                            element.style.display = '';
                                            element.classList.remove("loader");
                                            document.getElementById("modalBodyDiamante").innerHTML = "No tienes diamantes para regalar, pero puedes comprar mas diamantes en la <a href=tienda.html style = 'color:#2aa58a'>Store</a>";
                                            $('#modaltuto').modal('show');
                                        }






                                    });
                                })
                                .catch(function (error) {
                                });
                    } else {
                    }
                });
            }
            function contDiamantes(i, k, c, nombreR, u) {
                fire.collection("IMAGENES").where("mail", "==", c)
                        .get()
                        .then(function (querySnapshot) {
                            querySnapshot.forEach(function (doc) {
                                var publicaciones = doc.data();
                                var numNot = publicaciones.contNot;
                                numrest = numNot - 1;
                                var ref = firebase.database().ref("Imagenes");
                                ref.orderByChild("ID").equalTo(i).on("child_added", function (s) {
                                    userdata = s.val();
                                    diamantes = parseInt(userdata.diamantes);
                                    diamantesAgregar = diamantes + 1;
                                    var nombre;
                                    var newData = {
                                        diamantes: diamantesAgregar
                                    };
                                    var refTab = firebase.database().ref("Imagenes/").child(k);
                                    refTab.update(newData).then(function () {
                                        var like = {
                                            ID: i,
                                            correo: correo,
                                            correoFoto: c,
                                            nombreU: nombreR,
                                            url: u,
                                            contNotificacion: numrest,
                                            cantDiams: 1
                                        };
                                        firebase.database().ref("likes/").push(like).then(function () {
                                            pruebas(c, numrest, "d");

                                        });
                                    });

                                });
                            });
                        });
            }


            function pruebas(c, numrest, t) {

                auth.onAuthStateChanged(function (user) {
                    if (user) {
                        var correo = c;
                        fire.collection("IMAGENES").where("mail", "==", correo)
                                .get()
                                .then(function (querySnapshot) {
                                    querySnapshot.forEach(function (doc) {
                                        var publicaciones = doc.data();
                                        var uid = publicaciones.uid;
                                        if (t === "d") {
                                            ganancias = publicaciones.ganancias;
                                            if (ganancias === 0 || ganancias === undefined) {
                                                var data = {
                                                    new : 1,
                                                    contNot: numrest,
                                                    ganancias: 1 - (1 * 0.19)
                                                };
                                            } else if (ganancias > 0) {

                                                var data = {
                                                    new : 1,
                                                    contNot: numrest,
                                                    ganancias: parseFloat(ganancias) + (1 - (1 * 0.19))
                                                };
                                            }


                                        } else if (t === "l") {
                                            var data = {
                                                new : 1,
                                                contNot: numrest
                                            };
                                        }

                                        var element = document.getElementById("loader");
                                        element.style.display = '';
                                        element.classList.remove("loader");
                                        fire.collection("IMAGENES").doc(uid).update(data).then(function () {
                                        });

                                    });
                                });
                    }
                });
            }
            function actualizaValor(n, correoFoto) {

                fire.collection("IMAGENES").where("mail", "==", correoFoto)
                        .get()
                        .then(function (querySnapshot) {
                            querySnapshot.forEach(function (doc) {

                                var publicaciones = doc.data();
                                uid = publicaciones.uid;

                                datanueva = {
                                    contNot: n,
                                    new : 1
                                };
                                var element = document.getElementById("loader");
                                element.style.display = '';
                                element.classList.remove("loader");
                                fire.collection("IMAGENES").doc(uid).update(datanueva).then(function () {
                                });
                            });
                        });


            }
            var database = firebase.database();
            auth.onAuthStateChanged(function (user) {
                if (user) {
                    var mail = user.email;
                    var encripta = cifrar(mail.toString());
                    var correo = encripta.palabraEncriptada;
                    fire.collection("IMAGENES").where("mail", "==", correo)
                            .onSnapshot(function (querySnapshot) {
                                var cities = [];
                                querySnapshot.forEach(function (doc) {
                                    publicaciones = doc.data();
                                    if (correo === publicaciones.mail) {
                                        newN = publicaciones.new;
                                        newC = publicaciones.newC;
                                        newD = publicaciones.newD;
                                        var uid = publicaciones.uid;
                                        cities.push(newN + " : " + newC + " : " + uid);
                                        if (publicaciones.new) {
                                            $("#button_Not").attr("onclick", "deleteN('" + uid + "')");
                                            $("#button_NotT").attr("onclick", "deleteN('" + uid + "')");
                                            divNot = document.getElementById("not");
                                            divNotTog = document.getElementById("notT");
                                            withN = 35;
                                            heightW = 35;
                                            withNT = 30;
                                            heightWT = 30;
                                            divNot.innerHTML = '';
                                            divNotTog.innerHTML = '';
                                            $("#notT").append("<img style='width: " + withNT + "px;height: " + heightWT + "px;margin-top: 8px;margin-bottom: 8px' class='zoom' src='img/newNot.png'>");
                                            $("#not").append("<img style='width: " + withN + "px;height: " + heightW + "px;margin-top: 8px;margin-bottom: 8px' class='zoom' src='img/newNot.png'>");
                                        }
                                        if (publicaciones.newM) {
                                            $("#notificacion").attr("src", "img/MensajeBlanco(1).png");
                                            $("#notificacion1").attr("src", "img/MensajeBlanco(1).png");
                                            $("#downR").attr("src", "img/downR.png");
                                            $("#button_Men").attr("onclick", "deleteM('" + uid + "')");
                                            $("#drop_men").attr("onclick", "deleteM('" + uid + "')");
                                        }

                                    } else {
                                    }
                                });
                            });
                }
            });
            function reporte(uid, ty) {
                ID = uid.concat("," + ty);
                var encrypted = CryptoJS.TripleDES.encrypt(ID, "4379a7f1f63d50f763ad1fe333203fcb9d5e3631");
                var stringUrl = encrypted.toString();
                var url = "reporte.html";
                url += "?";
                nomVec = stringUrl.split(",");
                url += nomVec;
                location.href = url;
            }
        </script>
        <script>
            var DELAY = 300,
                    clicks = 0,
                    timer = null;
            function dobl(id) {
                clicks++;
                if (clicks === 1) {
                    timer = setTimeout(function () {
                        clicks = 0;
                    }, DELAY);
                } else {
                    clearTimeout(timer);
                    var element = document.getElementById("loader");
                    element.style.display = 'flex';
                    element.classList.toggle("loader");
                    likeDT(id);
                    clicks = 0;
                }
            }
            var xDown = null;
            var yDown = null;
            function getTouches(evt) {
                return evt.touches || 
                        evt.originalEvent.touches;
            }
            function handleTouchStart(evt) {
                const firstTouch = getTouches(evt)[0];
                xDown = firstTouch.clientX;
                yDown = firstTouch.clientY;
            }
            ;
            function handleTouchMove(evt, id) {
                if (!xDown || !yDown) {
                    return;
                }
                var xUp = evt.touches[0].clientX;
                var yUp = evt.touches[0].clientY;
                var xDiff = xDown - xUp;
                var yDiff = yDown - yUp;
                if (Math.abs(xDiff) > Math.abs(yDiff)) {/*most significant*/
                    if (xDiff > 0) {
                        $('#myCarousel' + id + '').carousel('next');
                    } else {
                        $('#myCarousel' + id + '').carousel('prev');

                    }
                } else {
                }
                xDown = null;
                yDown = null;
            }
        </script>
    </body>
</html>